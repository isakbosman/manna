(()=>{var e={};e.id=558,e.ids=[558],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},21845:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(43829),s(32487),s(87824);var r=s(93282),a=s(5736),i=s(93906),n=s.n(i),l=s(36880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["auth_disabled",{children:["verify-email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43829)),"/Users/isak/dev/accounts/packages/frontend/src/app/auth_disabled/verify-email/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,32487)),"/Users/isak/dev/accounts/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,87824,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/isak/dev/accounts/packages/frontend/src/app/auth_disabled/verify-email/page.tsx"],u="/auth_disabled/verify-email/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth_disabled/verify-email/page",pathname:"/auth_disabled/verify-email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86882:(e,t,s)=>{Promise.resolve().then(s.bind(s,18685))},11448:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(24583).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4211:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(24583).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},18685:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(73227),a=s(23677),i=s.n(a),n=s(20649),l=s(41043),o=s(87674),c=s(11250),d=s(79580);let u=(0,s(24583).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var p=s(12198),m=s(4211),x=s(11448);function h(){let[e,t]=i().useState("verifying"),[s,a]=i().useState(""),[h,f]=i().useState(""),[y,g]=i().useState(!1),v=(0,l.useRouter)();(0,l.useSearchParams)().get("token");let b=async()=>{if(s){g(!0);try{await o.iJ.resendVerification(s),v.push("/auth/login?message=Verification email sent! Please check your inbox.")}catch(e){f(e.message||"Failed to resend verification email.")}finally{g(!1)}}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsx("div",{className:"mx-auto h-12 w-12 rounded bg-primary-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"M"})})}),r.jsx(d.Zb,{children:(()=>{switch(e){case"verifying":return(0,r.jsxs)(d.aY,{className:"p-8 text-center",children:[r.jsx(u,{className:"mx-auto mb-4 h-12 w-12 text-primary-600 animate-spin"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying your email..."}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address."})]});case"success":return(0,r.jsxs)(d.aY,{className:"p-8 text-center",children:[r.jsx(p.Z,{className:"mx-auto mb-4 h-12 w-12 text-success-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email verified successfully!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Your email has been verified. You can now sign in to your account."}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Redirecting to login page..."}),r.jsx(n.default,{href:"/auth/login",children:r.jsx(c.z,{children:"Continue to login"})})]});case"expired":return(0,r.jsxs)(d.aY,{className:"p-8 text-center",children:[r.jsx(m.Z,{className:"mx-auto mb-4 h-12 w-12 text-warning-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification link expired"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The verification link has expired. We can send you a new verification email."}),s&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Send to: ",r.jsx("span",{className:"font-medium",children:s})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(c.z,{onClick:b,loading:y,disabled:y||!s,className:"w-full",children:y?"Sending...":"Send new verification email"}),r.jsx(n.default,{href:"/auth/login",className:"block w-full text-center text-sm text-primary-600 hover:text-primary-500",children:"Back to login"})]}),h&&r.jsx("div",{className:"mt-4 text-sm text-error-600 bg-error-50 border border-error-200 rounded-md p-3",children:h})]});case"error":return(0,r.jsxs)(d.aY,{className:"p-8 text-center",children:[r.jsx(x.Z,{className:"mx-auto mb-4 h-12 w-12 text-error-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification failed"}),r.jsx("p",{className:"text-gray-600 mb-6",children:h||"We were unable to verify your email address."}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(n.default,{href:"/auth/forgot-password",children:r.jsx(c.z,{variant:"outline",className:"w-full",children:"Request new verification"})}),r.jsx(n.default,{href:"/auth/login",className:"block w-full text-center text-sm text-primary-600 hover:text-primary-500",children:"Back to login"})]})]});default:return null}})()})]})})}},87674:(e,t,s)=>{"use strict";s.d(t,{hi:()=>l,iJ:()=>o});var r=s(85345),a=s(37379);let i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",n=r.Z.create({baseURL:i,timeout:3e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>e,e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>Promise.reject({message:e.response?.data?.message||e.message||"An error occurred",status:e.response?.status||500,code:e.response?.data?.code,details:e.response?.data?.details}));let l={get:async(e,t)=>(await n.get(e,t)).data,post:async(e,t,s)=>(await n.post(e,t,s)).data,put:async(e,t,s)=>(await n.put(e,t,s)).data,patch:async(e,t,s)=>(await n.patch(e,t,s)).data,delete:async(e,t)=>(await n.delete(e,t)).data,upload:async(e,t,s)=>{let r=new FormData;return r.append("file",t),(await n.post(e,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{s&&e.total&&s(Math.round(100*e.loaded/e.total))}})).data.data},download:async(e,t)=>{let s=new Blob([(await n.get(e,{responseType:"blob"})).data]),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=t||"download",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}},o={login:async e=>{let t=await l.post("/api/v1/auth/login",e),s=e.rememberMe?30:1,r=e.rememberMe?90:7;return t.access_token&&a.Z.set("access_token",t.access_token,{expires:s}),t.refresh_token&&a.Z.set("refresh_token",t.refresh_token,{expires:r}),t},logout:async()=>{try{await l.post("/api/v1/auth/logout")}catch(e){console.warn("Logout request failed:",e)}finally{a.Z.remove("access_token"),a.Z.remove("refresh_token")}},register:async e=>l.post("/api/v1/auth/register",e),forgotPassword:async e=>l.post("/api/v1/auth/forgot-password",{email:e}),resetPassword:async(e,t)=>l.post("/api/v1/auth/reset-password",{token:e,password:t}),verifyEmail:async e=>l.post("/api/v1/auth/verify-email",{token:e}),resendVerification:async e=>l.post("/api/v1/auth/resend-verification",{email:e}),getCurrentUser:async()=>l.get("/api/v1/users/me"),refreshToken:async()=>{let e=a.Z.get("refresh_token");if(!e)throw Error("No refresh token available");let t=await l.post("/api/v1/auth/refresh",{refresh_token:e});return t.access_token&&a.Z.set("access_token",t.access_token,{expires:1}),t.refresh_token&&a.Z.set("refresh_token",t.refresh_token,{expires:7}),t}}},43829:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(53189).createProxy)(String.raw`/Users/isak/dev/accounts/packages/frontend/src/app/auth_disabled/verify-email/page.tsx#default`)},31086:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});var r=s(91126);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.W,n=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:n,defaultVariants:l}=t,o=Object.keys(n).map(e=>{let t=null==s?void 0:s[e],r=null==l?void 0:l[e];if(null===t)return null;let i=a(t)||a(r);return n[e][i]}),c=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return i(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...c}[t]):({...l,...c})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[193,858,683,106,92],()=>s(21845));module.exports=r})();