(()=>{var e={};e.id=220,e.ids=[220],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},85743:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),a(41100),a(32487),a(87824);var n=a(93282),r=a(5736),s=a(93906),i=a.n(s),l=a(36880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["transactions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,41100)),"/Users/isak/dev/accounts/packages/frontend/src/app/transactions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,32487)),"/Users/isak/dev/accounts/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,87824,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/isak/dev/accounts/packages/frontend/src/app/transactions/page.tsx"],u="/transactions/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/transactions/page",pathname:"/transactions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},92489:(e,t,a)=>{Promise.resolve().then(a.bind(a,20422))},11448:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(24583).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},34666:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(24583).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},20422:(e,t,a)=>{"use strict";let n;a.r(t),a.d(t,{default:()=>it});var r,s,i,l,o,c,d,u,h,m,f,p,g,x,y,v={};a.r(v),a.d(v,{Button:()=>tj,CaptionLabel:()=>tN,Chevron:()=>tC,Day:()=>tk,DayButton:()=>tD,Dropdown:()=>tM,DropdownNav:()=>tS,Footer:()=>t_,Month:()=>tE,MonthCaption:()=>tT,MonthGrid:()=>tz,Months:()=>tR,MonthsDropdown:()=>tA,Nav:()=>tP,NextMonthButton:()=>tZ,Option:()=>tW,PreviousMonthButton:()=>tL,Root:()=>tI,Select:()=>tU,Week:()=>tY,WeekNumber:()=>tB,WeekNumberHeader:()=>tQ,Weekday:()=>t$,Weekdays:()=>tq,Weeks:()=>tV,YearsDropdown:()=>tK});var b={};a.r(b),a.d(b,{formatCaption:()=>tH,formatDay:()=>tG,formatMonthCaption:()=>tX,formatMonthDropdown:()=>tJ,formatWeekNumber:()=>t1,formatWeekNumberHeader:()=>t2,formatWeekdayName:()=>t0,formatYearCaption:()=>t5,formatYearDropdown:()=>t4});var w={};a.r(w),a.d(w,{labelCaption:()=>t7,labelDay:()=>t6,labelDayButton:()=>t3,labelGrid:()=>t8,labelGridcell:()=>t9,labelMonthDropdown:()=>ae,labelNav:()=>at,labelNext:()=>aa,labelPrevious:()=>an,labelWeekNumber:()=>as,labelWeekNumberHeader:()=>ai,labelWeekday:()=>ar,labelYearDropdown:()=>al});var j=a(73227),N=a(23677),C=a.n(N),k=a(75191),D=a(38674),M=a(25942),S=a(42114),_=a(11250),E=a(79580),T=a(69061),z=a(88043),R=a(90539),O=a(49543),F=a(73956),A=a(58615),P=a(74871),Z=a(77587),W=a(24583);let L=(0,W.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var I=a(65327),U=a(45899),Y=a(33706);let $=(0,W.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),q=(0,W.Z)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),B=(0,W.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var Q=a(25749);let V=(0,W.Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var K=a(18755);function H({columns:e,data:t,onRowSelectionChange:a,onRowClick:n,searchKey:r="description",searchPlaceholder:s="Search transactions...",showColumnToggle:i=!0,showPagination:l=!0,pageSize:o=25,isLoading:c=!1,emptyMessage:d="No transactions found.",className:u}){let[h,m]=(0,N.useState)([]),[f,p]=(0,N.useState)([]),[g,x]=(0,N.useState)({}),[y,v]=(0,N.useState)({}),[b,w]=(0,N.useState)(""),[C,k]=(0,N.useState)({pageIndex:0,pageSize:o}),D=(0,z.b7)({data:t,columns:e,getCoreRowModel:(0,R.sC)(),getSortedRowModel:(0,R.tj)(),getFilteredRowModel:(0,R.vL)(),getPaginationRowModel:(0,R.G_)(),onSortingChange:m,onColumnFiltersChange:p,onColumnVisibilityChange:x,onRowSelectionChange:e=>{if(v(e),a){let n="function"==typeof e?e(y):e;a(Object.keys(n).filter(e=>n[e]).map(e=>t[parseInt(e)]))}},onPaginationChange:k,onGlobalFilterChange:w,globalFilterFn:"includesString",state:{sorting:h,columnFilters:f,columnVisibility:g,rowSelection:y,pagination:C,globalFilter:b}}),M=D.getPageCount(),S=D.getState().pagination.pageIndex+1,E=(0,N.useCallback)(()=>{let e;let t=[],a=[];for(let e=1;e<=M;e++)(1===e||e===M||e>=S-2&&e<=S+2)&&t.push(e);return t.forEach(t=>{e&&(t-e==2?a.push(e+1):t-e!=1&&a.push("...")),a.push(t),e=t}),a},[S,M]),T=Object.keys(y).filter(e=>y[e]).length;return(0,j.jsxs)("div",{className:(0,K.cn)("space-y-4",u),children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,j.jsxs)("div",{className:"relative w-full max-w-sm",children:[j.jsx(P.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),j.jsx(F.I,{placeholder:s,value:b??"",onChange:e=>w(e.target.value),className:"pl-9 pr-9"}),b&&j.jsx(_.z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 p-0",onClick:()=>w(""),children:j.jsx(Z.Z,{className:"h-4 w-4"})})]}),T>0&&(0,j.jsxs)("div",{className:"text-sm text-muted-foreground",children:[T," row",1!==T?"s":""," selected"]})]}),i&&(0,j.jsxs)(A.h_,{children:[j.jsx(A.$F,{asChild:!0,children:(0,j.jsxs)(_.z,{variant:"outline",size:"sm",className:"ml-auto",children:[j.jsx(L,{className:"mr-2 h-4 w-4"}),"Columns",j.jsx(I.Z,{className:"ml-2 h-4 w-4"})]})}),(0,j.jsxs)(A.AW,{align:"end",className:"w-48",children:[j.jsx(A.Ju,{children:"Toggle columns"}),j.jsx(A.VD,{}),D.getAllColumns().filter(e=>e.getCanHide()).map(e=>j.jsx(A.bO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:t=>e.toggleVisibility(!!t),children:e.id.replace(/_/g," ")},e.id))]})]})]}),j.jsx("div",{className:"rounded-md border",children:(0,j.jsxs)(O.iA,{children:[j.jsx(O.xD,{children:D.getHeaderGroups().map(e=>j.jsx(O.SC,{children:e.headers.map(e=>j.jsx(O.ss,{className:(0,K.cn)(e.column.getCanSort()&&"cursor-pointer select-none","whitespace-nowrap"),onClick:e.column.getToggleSortingHandler(),children:(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[e.isPlaceholder?null:(0,z.ie)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&j.jsx("div",{className:"ml-2",children:"asc"===e.column.getIsSorted()?j.jsx(U.Z,{className:"h-4 w-4"}):"desc"===e.column.getIsSorted()?j.jsx(Y.Z,{className:"h-4 w-4"}):j.jsx($,{className:"h-4 w-4 text-muted-foreground/50"})})]})},e.id))},e.id))}),j.jsx(O.RM,{children:c?j.jsx(O.SC,{children:j.jsx(O.pj,{colSpan:e.length,className:"h-96 text-center",children:(0,j.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[j.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),j.jsx("span",{className:"text-muted-foreground",children:"Loading transactions..."})]})})}):D.getRowModel().rows?.length?D.getRowModel().rows.map(e=>j.jsx(O.SC,{"data-state":e.getIsSelected()&&"selected",className:(0,K.cn)(n&&"cursor-pointer hover:bg-muted/50",e.getIsSelected()&&"bg-muted/50"),onClick:t=>{let a=t.target;!(a.closest('[role="checkbox"]')||a.closest("button")||a.closest("[data-no-row-click]"))&&n&&n(e.original)},children:e.getVisibleCells().map(e=>j.jsx(O.pj,{className:"py-2",children:(0,z.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):j.jsx(O.SC,{children:j.jsx(O.pj,{colSpan:e.length,className:"h-96 text-center",children:(0,j.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[j.jsx("p",{className:"text-muted-foreground",children:d}),b&&j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>w(""),children:"Clear search"})]})})})})]})}),l&&M>1&&(0,j.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing"," ",j.jsx("span",{className:"font-medium",children:D.getState().pagination.pageIndex*D.getState().pagination.pageSize+1})," to ",j.jsx("span",{className:"font-medium",children:Math.min((D.getState().pagination.pageIndex+1)*D.getState().pagination.pageSize,t.length)})," of ",j.jsx("span",{className:"font-medium",children:t.length})," results"]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[j.jsx("span",{className:"text-sm text-muted-foreground",children:"|"}),j.jsx("label",{className:"text-sm text-muted-foreground",children:"Rows per page:"}),j.jsx("select",{className:"h-8 w-16 rounded border border-input bg-background px-2 text-sm",value:D.getState().pagination.pageSize,onChange:e=>{D.setPageSize(Number(e.target.value))},children:[10,25,50,100].map(e=>j.jsx("option",{value:e,children:e},e))})]})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>D.setPageIndex(0),disabled:!D.getCanPreviousPage(),className:"h-8 w-8 p-0",children:j.jsx(q,{className:"h-4 w-4"})}),j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>D.previousPage(),disabled:!D.getCanPreviousPage(),className:"h-8 w-8 p-0",children:j.jsx(B,{className:"h-4 w-4"})}),j.jsx("div",{className:"flex items-center space-x-1",children:E().map((e,t)=>"..."===e?j.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},`dots-${t}`):j.jsx(_.z,{variant:S===e?"default":"outline",size:"sm",onClick:()=>D.setPageIndex(e-1),className:"h-8 w-8 p-0",children:e},e))}),j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>D.nextPage(),disabled:!D.getCanNextPage(),className:"h-8 w-8 p-0",children:j.jsx(Q.Z,{className:"h-4 w-4"})}),j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>D.setPageIndex(D.getPageCount()-1),disabled:!D.getCanNextPage(),className:"h-8 w-8 p-0",children:j.jsx(V,{className:"h-4 w-4"})})]})]})]})}var X=a(83414),G=a(63062),J=a(53074),ee=a(45604),et=a(66016),ea=a(73519),en=a(30745),er=a(78332),es=a(84514),ei=a(8521),el=a(79177),eo=a(16361),ec=a(45579),ed=a(62007),eu=a(52764),eh=a(37525),em=a(66633),ef="Popover",[ep,eg]=(0,et.b)(ef,[ei.D7]),ex=(0,ei.D7)(),[ey,ev]=ep(ef),eb=e=>{let{__scopePopover:t,children:a,open:n,defaultOpen:r,onOpenChange:s,modal:i=!1}=e,l=ex(t),o=N.useRef(null),[c,d]=N.useState(!1),[u,h]=(0,eu.T)({prop:n,defaultProp:r??!1,onChange:s,caller:ef});return(0,j.jsx)(ei.fC,{...l,children:(0,j.jsx)(ey,{scope:t,contentId:(0,es.M)(),triggerRef:o,open:u,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:c,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:i,children:a})})};eb.displayName=ef;var ew="PopoverAnchor";N.forwardRef((e,t)=>{let{__scopePopover:a,...n}=e,r=ev(ew,a),s=ex(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=r;return N.useEffect(()=>(i(),()=>l()),[i,l]),(0,j.jsx)(ei.ee,{...s,...n,ref:t})}).displayName=ew;var ej="PopoverTrigger",eN=N.forwardRef((e,t)=>{let{__scopePopover:a,...n}=e,r=ev(ej,a),s=ex(a),i=(0,ee.e)(t,r.triggerRef),l=(0,j.jsx)(ec.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":eF(r.open),...n,ref:i,onClick:(0,J.Mj)(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:(0,j.jsx)(ei.ee,{asChild:!0,...s,children:l})});eN.displayName=ej;var eC="PopoverPortal",[ek,eD]=ep(eC,{forceMount:void 0}),eM=e=>{let{__scopePopover:t,forceMount:a,children:n,container:r}=e,s=ev(eC,t);return(0,j.jsx)(ek,{scope:t,forceMount:a,children:(0,j.jsx)(eo.z,{present:a||s.open,children:(0,j.jsx)(el.h,{asChild:!0,container:r,children:n})})})};eM.displayName=eC;var eS="PopoverContent",e_=N.forwardRef((e,t)=>{let a=eD(eS,e.__scopePopover),{forceMount:n=a.forceMount,...r}=e,s=ev(eS,e.__scopePopover);return(0,j.jsx)(eo.z,{present:n||s.open,children:s.modal?(0,j.jsx)(eT,{...r,ref:t}):(0,j.jsx)(ez,{...r,ref:t})})});e_.displayName=eS;var eE=(0,ed.Z8)("PopoverContent.RemoveScroll"),eT=N.forwardRef((e,t)=>{let a=ev(eS,e.__scopePopover),n=N.useRef(null),r=(0,ee.e)(t,n),s=N.useRef(!1);return N.useEffect(()=>{let e=n.current;if(e)return(0,eh.Ry)(e)},[]),(0,j.jsx)(em.Z,{as:eE,allowPinchZoom:!0,children:(0,j.jsx)(eR,{...e,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,J.Mj)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||a.triggerRef.current?.focus()}),onPointerDownOutside:(0,J.Mj)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,n=2===t.button||a;s.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,J.Mj)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ez=N.forwardRef((e,t)=>{let a=ev(eS,e.__scopePopover),n=N.useRef(!1),r=N.useRef(!1);return(0,j.jsx)(eR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||a.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(r.current=!0));let s=t.target;a.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),eR=N.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,...u}=e,h=ev(eS,a),m=ex(a);return(0,en.EW)(),(0,j.jsx)(er.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:(0,j.jsx)(ea.XB,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:(0,j.jsx)(ei.VY,{"data-state":eF(h.open),role:"dialog",id:h.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eO="PopoverClose";function eF(e){return e?"open":"closed"}N.forwardRef((e,t)=>{let{__scopePopover:a,...n}=e,r=ev(eO,a);return(0,j.jsx)(ec.WV.button,{type:"button",...n,ref:t,onClick:(0,J.Mj)(e.onClick,()=>r.onOpenChange(!1))})}).displayName=eO,N.forwardRef((e,t)=>{let{__scopePopover:a,...n}=e,r=ex(a);return(0,j.jsx)(ei.Eh,{...r,...n,ref:t})}).displayName="PopoverArrow";let eA=N.forwardRef(({className:e,align:t="center",sideOffset:a=4,...n},r)=>j.jsx(eM,{children:j.jsx(e_,{ref:r,align:t,sideOffset:a,className:(0,K.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));eA.displayName=e_.displayName,Symbol.for("constructDateFrom");let eP={},eZ={};function eW(e,t){try{let a=(eP[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];if(a in eZ)return eZ[a];return eI(a,a.split(":"))}catch{if(e in eZ)return eZ[e];let t=e?.match(eL);if(t)return eI(e,t.slice(1));return NaN}}let eL=/([+-]\d\d):?(\d\d)?/;function eI(e,t){let a=+(t[0]||0),n=+(t[1]||0),r=+(t[2]||0)/60;return eZ[e]=60*a+n>0?60*a+n+r:60*a-n-r}class eU extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(eW(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),eq(this,NaN),e$(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new eU(...t,e):new eU(Date.now(),e)}withTimeZone(e){return new eU(+this,e)}getTimezoneOffset(){let e=-eW(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),e$(this),+this}[Symbol.for("constructDateFrom")](e){return new eU(+new Date(e),this.timeZone)}}let eY=/^(get|set)(?!UTC)/;function e$(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-(60*eW(e.timeZone,e))))}function eq(e){let t=eW(e.timeZone,e),a=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let r=-new Date(+e).getTimezoneOffset(),s=r- -new Date(+n).getTimezoneOffset(),i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();s&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+s);let l=r-a;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);let o=new Date(+e);o.setUTCSeconds(0);let c=r>0?o.getSeconds():(o.getSeconds()-60)%60,d=Math.round(-(60*eW(e.timeZone,e)))%60;(d||c)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+d+c));let u=eW(e.timeZone,e),h=u>0?Math.floor(u):Math.ceil(u),m=-new Date(+e).getTimezoneOffset()-h-l;if(h!==a&&m){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);let t=eW(e.timeZone,e),a=h-(t>0?Math.floor(t):Math.ceil(t));a&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!eY.test(e))return;let t=e.replace(eY,"$1UTC");eU.prototype[t]&&(e.startsWith("get")?eU.prototype[e]=function(){return this.internal[t]()}:(eU.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Date.prototype.setFullYear.call(this,this.internal.getUTCFullYear(),this.internal.getUTCMonth(),this.internal.getUTCDate()),Date.prototype.setHours.call(this,this.internal.getUTCHours(),this.internal.getUTCMinutes(),this.internal.getUTCSeconds(),this.internal.getUTCMilliseconds()),eq(this),+this},eU.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),e$(this),+this}))});class eB extends eU{static tz(e,...t){return t.length?new eB(...t,e):new eB(Date.now(),e)}toISOString(){let[e,t,a]=this.tzComponents(),n=`${e}${t}:${a}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[e,t,a,n]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${a} ${t} ${n}`}toTimeString(){let e=this.internal.toUTCString().split(" ")[4],[t,a,n]=this.tzComponents();return`${e} GMT${t}${a}${n} (${function(e,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){let e=this.getTimezoneOffset(),t=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return[e>0?"-":"+",t,a]}withTimeZone(e){return new eB(+this,e)}[Symbol.for("constructDateFrom")](e){return new eB(+new Date(e),this.timeZone)}}let eQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function eV(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let eK={date:eV({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:eV({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:eV({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},eH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function eX(e){return(t,a)=>{let n;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=a?.width?String(a.width):t;n=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=a?.width?String(a.width):e.defaultWidth;n=e.values[r]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function eG(e){return(t,a={})=>{let n;let r=a.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;let l=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(o,e=>e.test(l)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(o,e=>e.test(l));return n=e.valueCallback?e.valueCallback(c):c,{value:n=a.valueCallback?a.valueCallback(n):n,rest:t.slice(l.length)}}}let eJ={code:"en-US",formatDistance:(e,t,a)=>{let n;let r=eQ[e];return(n="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),a?.addSuffix)?a.comparison&&a.comparison>0?"in "+n:n+" ago":n},formatLong:eK,formatRelative:(e,t,a,n)=>eH[e],localize:{ordinalNumber:(e,t)=>{let a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:eX({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:eX({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:eX({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:eX({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:eX({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,a={})=>{let n=t.match(e.matchPattern);if(!n)return null;let r=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:i=a.valueCallback?a.valueCallback(i):i,rest:t.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:eG({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:eG({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:eG({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:eG({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:eG({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var e0=a(24935),e1=a(75432),e2=a(91790),e4=a(73499),e5=a(94615),e3=a(85893);function e6(e,t){let a=(0,e3.j)(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=(0,e5.Q)(e),s=r.getDay();return r.setDate(r.getDate()+((s<n?-7:0)+6-(s-n))),r.setHours(23,59,59,999),r}var e8=a(94969),e7=a(83899),e9=a(39885),te=a(62063),tt=a(18517),ta=a(20677),tn=a(23353);function tr(e,t){let a=(0,e5.Q)(e),n=(0,e5.Q)(t);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}var ts=a(33430),ti=a(41651),tl=a(28876),to=a(24819),tc=a(37041),td=a(44350);function tu(e,t){let a=t.startOfMonth(e),n=a.getDay();return 1===n?a:0===n?t.addDays(a,-6):t.addDays(a,-1*(n-1))}class th{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?eB.tz(this.options.timeZone):new this.Date,this.newDate=(e,t,a)=>this.overrides?.newDate?this.overrides.newDate(e,t,a):this.options.timeZone?new eB(e,t,a,this.options.timeZone):new Date(e,t,a),this.addDays=(e,t)=>this.overrides?.addDays?this.overrides.addDays(e,t):(0,e0.E)(e,t),this.addMonths=(e,t)=>this.overrides?.addMonths?this.overrides.addMonths(e,t):(0,e1.z)(e,t),this.addWeeks=(e,t)=>this.overrides?.addWeeks?this.overrides.addWeeks(e,t):(0,e0.E)(e,7*t),this.addYears=(e,t)=>this.overrides?.addYears?this.overrides.addYears(e,t):(0,e2.B)(e,t),this.differenceInCalendarDays=(e,t)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(e,t):(0,e4.w)(e,t),this.differenceInCalendarMonths=(e,t)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(e,t):function(e,t){let a=(0,e5.Q)(e),n=(0,e5.Q)(t);return 12*(a.getFullYear()-n.getFullYear())+(a.getMonth()-n.getMonth())}(e,t),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(e):function(e,t){let a=(0,e5.Q)(e.start),n=(0,e5.Q)(e.end),r=+a>+n,s=r?+a:+n,i=r?n:a;i.setHours(0,0,0,0),i.setDate(1);let l=(void 0)??1;if(!l)return[];l<0&&(l=-l,r=!r);let o=[];for(;+i<=s;)o.push((0,e5.Q)(i)),i.setMonth(i.getMonth()+l);return r?o.reverse():o}(e),this.endOfBroadcastWeek=e=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(e):function(e,t){let a=tu(e,t),n=function(e,t){let a=t.startOfMonth(e),n=a.getDay()>0?a.getDay():7,r=t.addDays(e,-n+1),s=t.addDays(r,34);return t.getMonth(e)===t.getMonth(s)?5:4}(e,t);return t.addDays(a,7*n-1)}(e,this),this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(e):e6(e,{weekStartsOn:1}),this.endOfMonth=e=>this.overrides?.endOfMonth?this.overrides.endOfMonth(e):(0,e8.V)(e),this.endOfWeek=(e,t)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(e,t):e6(e,this.options),this.endOfYear=e=>this.overrides?.endOfYear?this.overrides.endOfYear(e):(0,e7.w)(e),this.format=(e,t,a)=>{let n=this.overrides?.format?this.overrides.format(e,t,this.options):(0,e9.WU)(e,t,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(n):n},this.getISOWeek=e=>this.overrides?.getISOWeek?this.overrides.getISOWeek(e):(0,te.l)(e),this.getMonth=(e,t)=>this.overrides?.getMonth?this.overrides.getMonth(e,this.options):(this.options,(0,e5.Q)(e).getMonth()),this.getYear=(e,t)=>this.overrides?.getYear?this.overrides.getYear(e,this.options):(this.options,(0,e5.Q)(e).getFullYear()),this.getWeek=(e,t)=>this.overrides?.getWeek?this.overrides.getWeek(e,this.options):(0,tt.Q)(e,this.options),this.isAfter=(e,t)=>this.overrides?.isAfter?this.overrides.isAfter(e,t):function(e,t){let a=(0,e5.Q)(e),n=(0,e5.Q)(t);return a.getTime()>n.getTime()}(e,t),this.isBefore=(e,t)=>this.overrides?.isBefore?this.overrides.isBefore(e,t):+(0,e5.Q)(e)<+(0,e5.Q)(t),this.isDate=e=>this.overrides?.isDate?this.overrides.isDate(e):(0,ta.J)(e),this.isSameDay=(e,t)=>this.overrides?.isSameDay?this.overrides.isSameDay(e,t):(0,tn.K)(e,t),this.isSameMonth=(e,t)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(e,t):tr(e,t),this.isSameYear=(e,t)=>this.overrides?.isSameYear?this.overrides.isSameYear(e,t):function(e,t){let a=(0,e5.Q)(e),n=(0,e5.Q)(t);return a.getFullYear()===n.getFullYear()}(e,t),this.max=e=>this.overrides?.max?this.overrides.max(e):function(e){let t;return e.forEach(function(e){let a=(0,e5.Q)(e);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}(e),this.min=e=>this.overrides?.min?this.overrides.min(e):function(e){let t;return e.forEach(e=>{let a=(0,e5.Q)(e);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}(e),this.setMonth=(e,t)=>this.overrides?.setMonth?this.overrides.setMonth(e,t):function(e,t){let a=(0,e5.Q)(e),n=a.getFullYear(),r=a.getDate(),s=(0,ts.L)(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);let i=function(e){let t=(0,e5.Q)(e),a=t.getFullYear(),n=t.getMonth(),r=(0,ts.L)(e,0);return r.setFullYear(a,n+1,0),r.setHours(0,0,0,0),r.getDate()}(s);return a.setMonth(t,Math.min(r,i)),a}(e,t),this.setYear=(e,t)=>this.overrides?.setYear?this.overrides.setYear(e,t):function(e,t){let a=(0,e5.Q)(e);return isNaN(+a)?(0,ts.L)(e,NaN):(a.setFullYear(t),a)}(e,t),this.startOfBroadcastWeek=(e,t)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(e,this):tu(e,this),this.startOfDay=e=>this.overrides?.startOfDay?this.overrides.startOfDay(e):(0,ti.b)(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(e):(0,tl.T)(e),this.startOfMonth=e=>this.overrides?.startOfMonth?this.overrides.startOfMonth(e):(0,to.N)(e),this.startOfWeek=(e,t)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(e,this.options):(0,tc.z)(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?this.overrides.startOfYear(e):(0,td.e)(e),this.options={locale:eJ,...e},this.overrides=t}getDigitMap(){let{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let e=0;e<10;e++)a[e.toString()]=t.format(e);return a}replaceDigits(e){let t=this.getDigitMap();return e.replace(/\d/g,e=>t[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}}let tm=new th;function tf(e,t,a=!1,n=tm){let{from:r,to:s}=e,{differenceInCalendarDays:i,isSameDay:l}=n;return r&&s?(0>i(s,r)&&([r,s]=[s,r]),i(t,r)>=(a?1:0)&&i(s,t)>=(a?1:0)):!a&&s?l(s,t):!a&&!!r&&l(r,t)}function tp(e){return!!(e&&"object"==typeof e&&"before"in e&&"after"in e)}function tg(e){return!!(e&&"object"==typeof e&&"from"in e)}function tx(e){return!!(e&&"object"==typeof e&&"after"in e)}function ty(e){return!!(e&&"object"==typeof e&&"before"in e)}function tv(e){return!!(e&&"object"==typeof e&&"dayOfWeek"in e)}function tb(e,t){return Array.isArray(e)&&e.every(t.isDate)}function tw(e,t,a=tm){let n=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:s,isAfter:i}=a;return n.some(t=>{if("boolean"==typeof t)return t;if(a.isDate(t))return r(e,t);if(tb(t,a))return t.includes(e);if(tg(t))return tf(t,e,!1,a);if(tv(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(tp(t)){let a=s(t.before,e),n=s(t.after,e),r=a>0,l=n<0;return i(t.before,t.after)?l&&r:r||l}return tx(t)?s(e,t.after)>0:ty(t)?s(t.before,e)>0:"function"==typeof t&&t(e)})}function tj(e){return N.createElement("button",{...e})}function tN(e){return N.createElement("span",{...e})}function tC(e){let{size:t=24,orientation:a="left",className:n}=e;return N.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},"up"===a&&N.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===a&&N.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===a&&N.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===a&&N.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function tk(e){let{day:t,modifiers:a,...n}=e;return N.createElement("td",{...n})}function tD(e){let{day:t,modifiers:a,...n}=e,r=N.useRef(null);return N.useEffect(()=>{a.focused&&r.current?.focus()},[a.focused]),N.createElement("button",{ref:r,...n})}function tM(e){let{options:t,className:a,components:n,classNames:s,...i}=e,l=[s[r.Dropdown],a].join(" "),o=t?.find(({value:e})=>e===i.value);return N.createElement("span",{"data-disabled":i.disabled,className:s[r.DropdownRoot]},N.createElement(n.Select,{className:l,...i},t?.map(({value:e,label:t,disabled:a})=>N.createElement(n.Option,{key:e,value:e,disabled:a},t))),N.createElement("span",{className:s[r.CaptionLabel],"aria-hidden":!0},o?.label,N.createElement(n.Chevron,{orientation:"down",size:18,className:s[r.Chevron]})))}function tS(e){return N.createElement("div",{...e})}function t_(e){return N.createElement("div",{...e})}function tE(e){let{calendarMonth:t,displayIndex:a,...n}=e;return N.createElement("div",{...n},e.children)}function tT(e){let{calendarMonth:t,displayIndex:a,...n}=e;return N.createElement("div",{...n})}function tz(e){return N.createElement("table",{...e})}function tR(e){return N.createElement("div",{...e})}(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(r||(r={})),function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"}(s||(s={})),function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"}(i||(i={})),function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"}(l||(l={}));let tO=(0,N.createContext)(void 0);function tF(){let e=(0,N.useContext)(tO);if(void 0===e)throw Error("useDayPicker() must be used within a custom component.");return e}function tA(e){let{components:t}=tF();return N.createElement(t.Dropdown,{...e})}function tP(e){let{onPreviousClick:t,onNextClick:a,previousMonth:n,nextMonth:s,...i}=e,{components:l,classNames:o,labels:{labelPrevious:c,labelNext:d}}=tF(),u=(0,N.useCallback)(e=>{s&&a?.(e)},[s,a]),h=(0,N.useCallback)(e=>{n&&t?.(e)},[n,t]);return N.createElement("nav",{...i},N.createElement(l.PreviousMonthButton,{type:"button",className:o[r.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":!n||void 0,"aria-label":c(n),onClick:h},N.createElement(l.Chevron,{disabled:!n||void 0,className:o[r.Chevron],orientation:"left"})),N.createElement(l.NextMonthButton,{type:"button",className:o[r.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":!s||void 0,"aria-label":d(s),onClick:u},N.createElement(l.Chevron,{disabled:!s||void 0,orientation:"right",className:o[r.Chevron]})))}function tZ(e){let{components:t}=tF();return N.createElement(t.Button,{...e})}function tW(e){return N.createElement("option",{...e})}function tL(e){let{components:t}=tF();return N.createElement(t.Button,{...e})}function tI(e){let{rootRef:t,...a}=e;return N.createElement("div",{...a,ref:t})}function tU(e){return N.createElement("select",{...e})}function tY(e){let{week:t,...a}=e;return N.createElement("tr",{...a})}function t$(e){return N.createElement("th",{...e})}function tq(e){return N.createElement("thead",{"aria-hidden":!0},N.createElement("tr",{...e}))}function tB(e){let{week:t,...a}=e;return N.createElement("th",{...a})}function tQ(e){return N.createElement("th",{...e})}function tV(e){return N.createElement("tbody",{...e})}function tK(e){let{components:t}=tF();return N.createElement(t.Dropdown,{...e})}function tH(e,t,a){return(a??new th(t)).format(e,"LLLL y")}let tX=tH;function tG(e,t,a){return(a??new th(t)).format(e,"d")}function tJ(e,t=tm){return t.format(e,"LLLL")}function t0(e,t,a){return(a??new th(t)).format(e,"cccccc")}function t1(e,t=tm){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function t2(){return""}function t4(e,t=tm){return t.format(e,"yyyy")}let t5=t4;function t3(e,t,a,n){let r=(n??new th(a)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}let t6=t3;function t8(e,t,a){return(a??new th(t)).format(e,"LLLL y")}let t7=t8;function t9(e,t,a,n){let r=(n??new th(a)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function ae(e){return"Choose the Month"}function at(){return""}function aa(e){return"Go to the Next Month"}function an(e){return"Go to the Previous Month"}function ar(e,t,a){return(a??new th(t)).format(e,"cccc")}function as(e,t){return`Week ${e}`}function ai(e){return"Week Number"}function al(e){return"Choose the Year"}let ao=e=>e instanceof HTMLElement?e:null,ac=e=>[...e.querySelectorAll("[data-animated-month]")??[]],ad=e=>ao(e.querySelector("[data-animated-month]")),au=e=>ao(e.querySelector("[data-animated-caption]")),ah=e=>ao(e.querySelector("[data-animated-weeks]")),am=e=>ao(e.querySelector("[data-animated-nav]")),af=e=>ao(e.querySelector("[data-animated-weekdays]"));function ap(e,t,a,n){let{month:r,defaultMonth:s,today:i=n.today(),numberOfMonths:l=1}=e,o=r||s||i,{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=n;return a&&c(a,o)<l-1&&(o=d(a,-1*(l-1))),t&&0>c(o,t)&&(o=t),u(o)}class ag{constructor(e,t,a=tm){this.date=e,this.displayMonth=t,this.outside=!!(t&&!a.isSameMonth(e,t)),this.dateLib=a}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class ax{constructor(e,t){this.days=t,this.weekNumber=e}}class ay{constructor(e,t){this.date=e,this.weeks=t}}function av(e,t){let[a,n]=(0,N.useState)(e);return[void 0===t?a:t,n]}function ab(e){return!e[s.disabled]&&!e[s.hidden]&&!e[s.outside]}function aw(e,t,a=tm){return tf(e,t.from,!1,a)||tf(e,t.to,!1,a)||tf(t,e.from,!1,a)||tf(t,e.to,!1,a)}function aj(e){let t=e;t.timeZone&&((t={...e}).today&&(t.today=new eB(t.today,t.timeZone)),t.month&&(t.month=new eB(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new eB(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new eB(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new eB(t.endMonth,t.timeZone)),"single"===t.mode&&t.selected?t.selected=new eB(t.selected,t.timeZone):"multiple"===t.mode&&t.selected?t.selected=t.selected?.map(e=>new eB(e,t.timeZone)):"range"===t.mode&&t.selected&&(t.selected={from:t.selected.from?new eB(t.selected.from,t.timeZone):void 0,to:t.selected.to?new eB(t.selected.to,t.timeZone):void 0}));let{components:a,formatters:n,labels:c,dateLib:d,locale:u,classNames:h}=(0,N.useMemo)(()=>{var e,a;let n={...eJ,...t.locale};return{dateLib:new th({locale:n,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:(e=t.components,{...v,...e}),formatters:(a=t.formatters,a?.formatMonthCaption&&!a.formatCaption&&(a.formatCaption=a.formatMonthCaption),a?.formatYearCaption&&!a.formatYearDropdown&&(a.formatYearDropdown=a.formatYearCaption),{...b,...a}),labels:{...w,...t.labels},locale:n,classNames:{...function(){let e={};for(let t in r)e[r[t]]=`rdp-${r[t]}`;for(let t in s)e[s[t]]=`rdp-${s[t]}`;for(let t in i)e[i[t]]=`rdp-${i[t]}`;for(let t in l)e[l[t]]=`rdp-${l[t]}`;return e}(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:m,mode:f,navLayout:p,numberOfMonths:g=1,onDayBlur:x,onDayClick:y,onDayFocus:j,onDayKeyDown:C,onDayMouseEnter:k,onDayMouseLeave:D,onNextClick:M,onPrevClick:S,showWeekNumber:_,styles:E}=t,{formatCaption:T,formatDay:z,formatMonthDropdown:R,formatWeekNumber:O,formatWeekNumberHeader:F,formatWeekdayName:A,formatYearDropdown:P}=n,Z=function(e,t){let[a,n]=function(e,t){let{startMonth:a,endMonth:n}=e,{startOfYear:r,startOfDay:s,startOfMonth:i,endOfMonth:l,addYears:o,endOfYear:c,newDate:d,today:u}=t,{fromYear:h,toYear:m,fromMonth:f,toMonth:p}=e;!a&&f&&(a=f),!a&&h&&(a=t.newDate(h,0,1)),!n&&p&&(n=p),!n&&m&&(n=d(m,11,31));let g="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return a?a=i(a):h?a=d(h,0,1):!a&&g&&(a=r(o(e.today??u(),-100))),n?n=l(n):m?n=d(m,11,31):!n&&g&&(n=c(e.today??u())),[a?s(a):a,n?s(n):n]}(e,t),{startOfMonth:r,endOfMonth:s}=t,i=ap(e,a,n,t),[l,o]=av(i,e.month?i:void 0);(0,N.useEffect)(()=>{o(ap(e,a,n,t))},[e.timeZone]);let c=function(e,t,a,n){let{numberOfMonths:r=1}=a,s=[];for(let a=0;a<r;a++){let r=n.addMonths(e,a);if(t&&r>t)break;s.push(r)}return s}(l,n,e,t),d=function(e,t,a,n){let r=e[0],s=e[e.length-1],{ISOWeek:i,fixedWeeks:l,broadcastCalendar:o}=a??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:h,endOfISOWeek:m,endOfMonth:f,endOfWeek:p,isAfter:g,startOfBroadcastWeek:x,startOfISOWeek:y,startOfWeek:v}=n,b=o?x(r,n):i?y(r):v(r),w=d(o?h(s):i?m(f(s)):p(f(s)),b),j=u(s,r)+1,N=[];for(let e=0;e<=w;e++){let a=c(b,e);if(t&&g(a,t))break;N.push(a)}let C=(o?35:42)*j;if(l&&N.length<C){let e=C-N.length;for(let t=0;t<e;t++){let e=c(N[N.length-1],1);N.push(e)}}return N}(c,e.endMonth?s(e.endMonth):void 0,e,t),u=function(e,t,a,n){let{addDays:r,endOfBroadcastWeek:s,endOfISOWeek:i,endOfMonth:l,endOfWeek:o,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:h,startOfWeek:m}=n,f=e.reduce((e,f)=>{let p=a.broadcastCalendar?u(f,n):a.ISOWeek?h(f):m(f),g=a.broadcastCalendar?s(f):a.ISOWeek?i(l(f)):o(l(f)),x=t.filter(e=>e>=p&&e<=g),y=a.broadcastCalendar?35:42;if(a.fixedWeeks&&x.length<y){let e=t.filter(e=>{let t=y-x.length;return e>g&&e<=r(g,t)});x.push(...e)}let v=x.reduce((e,t)=>{let r=a.ISOWeek?c(t):d(t),s=e.find(e=>e.weekNumber===r),i=new ag(t,f,n);return s?s.days.push(i):e.push(new ax(r,[i])),e},[]),b=new ay(f,v);return e.push(b),e},[]);return a.reverseMonths?f.reverse():f}(c,d,e,t),h=u.reduce((e,t)=>e.concat(t.weeks.slice()),[]),m=function(e){let t=[];return e.reduce((e,a)=>{let n=a.weeks.reduce((e,t)=>e.concat(t.days.slice()),t.slice());return e.concat(n.slice())},t.slice())}(u),f=function(e,t,a,n){if(a.disableNavigation)return;let{pagedNavigation:r,numberOfMonths:s}=a,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:o}=n,c=i(e);if(!t||!(0>=o(c,t)))return l(c,-(r?s??1:1))}(l,a,e,t),p=function(e,t,a,n){if(a.disableNavigation)return;let{pagedNavigation:r,numberOfMonths:s=1}=a,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:o}=n,c=i(e);if(!t||!(o(t,e)<s))return l(c,r?s:1)}(l,n,e,t),{disableNavigation:g,onMonthChange:x}=e,y=e=>h.some(t=>t.days.some(t=>t.isEqualTo(e))),v=e=>{if(g)return;let t=r(e);a&&t<r(a)&&(t=r(a)),n&&t>r(n)&&(t=r(n)),o(t),x?.(t)};return{months:u,weeks:h,days:m,navStart:a,navEnd:n,previousMonth:f,nextMonth:p,goToMonth:v,goToDay:e=>{y(e)||v(e.date)}}}(t,d),{days:W,months:L,navStart:I,navEnd:U,previousMonth:Y,nextMonth:$,goToMonth:q}=Z,B=function(e,t,a,n,r){let{disabled:i,hidden:l,modifiers:o,showOutsideDays:c,broadcastCalendar:d,today:u}=t,{isSameDay:h,isSameMonth:m,startOfMonth:f,isBefore:p,endOfMonth:g,isAfter:x}=r,y=a&&f(a),v=n&&g(n),b={[s.focused]:[],[s.outside]:[],[s.disabled]:[],[s.hidden]:[],[s.today]:[]},w={};for(let t of e){let{date:e,displayMonth:a}=t,n=!!(a&&!m(e,a)),s=!!(y&&p(e,y)),f=!!(v&&x(e,v)),g=!!(i&&tw(e,i,r)),j=!!(l&&tw(e,l,r))||s||f||!d&&!c&&n||d&&!1===c&&n,N=h(e,u??r.today());n&&b.outside.push(t),g&&b.disabled.push(t),j&&b.hidden.push(t),N&&b.today.push(t),o&&Object.keys(o).forEach(a=>{let n=o?.[a];n&&tw(e,n,r)&&(w[a]?w[a].push(t):w[a]=[t])})}return e=>{let t={[s.focused]:!1,[s.disabled]:!1,[s.hidden]:!1,[s.outside]:!1,[s.today]:!1},a={};for(let a in b){let n=b[a];t[a]=n.some(t=>t===e)}for(let t in w)a[t]=w[t].some(t=>t===e);return{...t,...a}}}(W,t,I,U,d),{isSelected:Q,select:V,selected:K}=function(e,t){let a=function(e,t){let{selected:a,required:n,onSelect:r}=e,[s,i]=av(a,r?a:void 0),l=r?a:s,{isSameDay:o}=t;return{selected:l,select:(e,t,a)=>{let s=e;return!n&&l&&l&&o(e,l)&&(s=void 0),r||i(s),r?.(s,e,t,a),s},isSelected:e=>!!l&&o(l,e)}}(e,t),n=function(e,t){let{selected:a,required:n,onSelect:r}=e,[s,i]=av(a,r?a:void 0),l=r?a:s,{isSameDay:o}=t,c=e=>l?.some(t=>o(t,e))??!1,{min:d,max:u}=e;return{selected:l,select:(e,t,a)=>{let s=[...l??[]];if(c(e)){if(l?.length===d||n&&l?.length===1)return;s=l?.filter(t=>!o(t,e))}else s=l?.length===u?[e]:[...s,e];return r||i(s),r?.(s,e,t,a),s},isSelected:c}}(e,t),r=function(e,t){let{disabled:a,excludeDisabled:n,selected:r,required:s,onSelect:i}=e,[l,o]=av(r,i?r:void 0),c=i?r:l;return{selected:c,select:(r,l,d)=>{let{min:u,max:h}=e,m=r?function(e,t,a=0,n=0,r=!1,s=tm){let i;let{from:l,to:o}=t||{},{isSameDay:c,isAfter:d,isBefore:u}=s;if(l||o){if(l&&!o)i=c(l,e)?0===a?{from:l,to:e}:r?{from:l,to:void 0}:void 0:u(e,l)?{from:e,to:l}:{from:l,to:e};else if(l&&o){if(c(l,e)&&c(o,e))i=r?{from:l,to:o}:void 0;else if(c(l,e))i={from:l,to:a>0?void 0:e};else if(c(o,e))i={from:e,to:a>0?void 0:e};else if(u(e,l))i={from:e,to:o};else if(d(e,l))i={from:l,to:e};else if(d(e,o))i={from:l,to:e};else throw Error("Invalid range")}}else i={from:e,to:a>0?void 0:e};if(i?.from&&i?.to){let t=s.differenceInCalendarDays(i.to,i.from);n>0&&t>n?i={from:e,to:void 0}:a>1&&t<a&&(i={from:e,to:void 0})}return i}(r,c,u,h,s,t):void 0;return n&&a&&m?.from&&m.to&&function(e,t,a=tm){let n=Array.isArray(t)?t:[t];if(n.filter(e=>"function"!=typeof e).some(t=>"boolean"==typeof t?t:a.isDate(t)?tf(e,t,!1,a):tb(t,a)?t.some(t=>tf(e,t,!1,a)):tg(t)?!!t.from&&!!t.to&&aw(e,{from:t.from,to:t.to},a):tv(t)?function(e,t,a=tm){let n=Array.isArray(t)?t:[t],r=e.from,s=Math.min(a.differenceInCalendarDays(e.to,e.from),6);for(let e=0;e<=s;e++){if(n.includes(r.getDay()))return!0;r=a.addDays(r,1)}return!1}(e,t.dayOfWeek,a):tp(t)?a.isAfter(t.before,t.after)?aw(e,{from:a.addDays(t.after,1),to:a.addDays(t.before,-1)},a):tw(e.from,t,a)||tw(e.to,t,a):!!(tx(t)||ty(t))&&(tw(e.from,t,a)||tw(e.to,t,a))))return!0;let r=n.filter(e=>"function"==typeof e);if(r.length){let t=e.from,n=a.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=n;e++){if(r.some(e=>e(t)))return!0;t=a.addDays(t,1)}}return!1}({from:m.from,to:m.to},a,t)&&(m.from=r,m.to=void 0),i||o(m),i?.(m,r,l,d),m},isSelected:e=>c&&tf(c,e,!1,t)}}(e,t);switch(e.mode){case"single":return a;case"multiple":return n;case"range":return r;default:return}}(t,d)??{},{blur:H,focused:X,isFocusTarget:G,moveFocus:J,setFocused:ee}=function(e,t,a,n,r){let{autoFocus:i}=e,[l,c]=(0,N.useState)(),d=function(e,t,a,n){let r;let i=-1;for(let l of e){let e=t(l);ab(e)&&(e[s.focused]&&i<o.FocusedModifier?(r=l,i=o.FocusedModifier):n?.isEqualTo(l)&&i<o.LastFocused?(r=l,i=o.LastFocused):a(l.date)&&i<o.Selected?(r=l,i=o.Selected):e[s.today]&&i<o.Today&&(r=l,i=o.Today))}return r||(r=e.find(e=>ab(t(e)))),r}(t.days,a,n||(()=>!1),l),[u,h]=(0,N.useState)(i?d:void 0);return{isFocusTarget:e=>!!d?.isEqualTo(e),setFocused:h,focused:u,blur:()=>{c(u),h(void 0)},moveFocus:(a,n)=>{if(!u)return;let s=function e(t,a,n,r,s,i,l,o=0){if(o>365)return;let c=function(e,t,a,n,r,s,i){let{ISOWeek:l,broadcastCalendar:o}=s,{addDays:c,addMonths:d,addWeeks:u,addYears:h,endOfBroadcastWeek:m,endOfISOWeek:f,endOfWeek:p,max:g,min:x,startOfBroadcastWeek:y,startOfISOWeek:v,startOfWeek:b}=i,w=({day:c,week:u,month:d,year:h,startOfWeek:e=>o?y(e,i):l?v(e):b(e),endOfWeek:e=>o?m(e):l?f(e):p(e)})[e](a,"after"===t?1:-1);return"before"===t&&n?w=g([n,w]):"after"===t&&r&&(w=x([r,w])),w}(t,a,n.date,r,s,i,l),d=!!(i.disabled&&tw(c,i.disabled,l)),u=!!(i.hidden&&tw(c,i.hidden,l)),h=new ag(c,c,l);return d||u?e(t,a,h,r,s,i,l,o+1):h}(a,n,u,t.navStart,t.navEnd,e,r);s&&(t.goToDay(s),h(s))}}}(t,Z,B,Q??(()=>!1),d),{labelDayButton:et,labelGridcell:ea,labelGrid:en,labelMonthDropdown:er,labelNav:es,labelPrevious:ei,labelNext:el,labelWeekday:eo,labelWeekNumber:ec,labelWeekNumberHeader:ed,labelYearDropdown:eu}=c,eh=(0,N.useMemo)(()=>(function(e,t,a){let n=e.today(),r=t?e.startOfISOWeek(n):e.startOfWeek(n),s=[];for(let t=0;t<7;t++){let a=e.addDays(r,t);s.push(a)}return s})(d,t.ISOWeek),[d,t.ISOWeek]),em=void 0!==f||void 0!==y,ef=(0,N.useCallback)(()=>{Y&&(q(Y),S?.(Y))},[Y,q,S]),ep=(0,N.useCallback)(()=>{$&&(q($),M?.($))},[q,$,M]),eg=(0,N.useCallback)((e,t)=>a=>{a.preventDefault(),a.stopPropagation(),ee(e),V?.(e.date,t,a),y?.(e.date,t,a)},[V,y,ee]),ex=(0,N.useCallback)((e,t)=>a=>{ee(e),j?.(e.date,t,a)},[j,ee]),ey=(0,N.useCallback)((e,t)=>a=>{H(),x?.(e.date,t,a)},[H,x]),ev=(0,N.useCallback)((e,a)=>n=>{let r={ArrowLeft:[n.shiftKey?"month":"day","rtl"===t.dir?"after":"before"],ArrowRight:[n.shiftKey?"month":"day","rtl"===t.dir?"before":"after"],ArrowDown:[n.shiftKey?"year":"week","after"],ArrowUp:[n.shiftKey?"year":"week","before"],PageUp:[n.shiftKey?"year":"month","before"],PageDown:[n.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(r[n.key]){n.preventDefault(),n.stopPropagation();let[e,t]=r[n.key];J(e,t)}C?.(e.date,a,n)},[J,C,t.dir]),eb=(0,N.useCallback)((e,t)=>a=>{k?.(e.date,t,a)},[k]),ew=(0,N.useCallback)((e,t)=>a=>{D?.(e.date,t,a)},[D]),ej=(0,N.useCallback)(e=>t=>{let a=Number(t.target.value);q(d.setMonth(d.startOfMonth(e),a))},[d,q]),eN=(0,N.useCallback)(e=>t=>{let a=Number(t.target.value);q(d.setYear(d.startOfMonth(e),a))},[d,q]),{className:eC,style:ek}=(0,N.useMemo)(()=>({className:[h[r.Root],t.className].filter(Boolean).join(" "),style:{...E?.[r.Root],...t.style}}),[h,t.className,t.style,E]),eD=function(e){let t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([e,a])=>{e.startsWith("data-")&&(t[e]=a)}),t}(t),eM=(0,N.useRef)(null);!function(e,t,{classNames:a,months:n,focused:r,dateLib:s}){let i=(0,N.useRef)(null),o=(0,N.useRef)(n),c=(0,N.useRef)(!1);(0,N.useLayoutEffect)(()=>{let d=o.current;if(o.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||0===n.length||0===d.length||n.length!==d.length)return;let u=s.isSameMonth(n[0].date,d[0].date),h=s.isAfter(n[0].date,d[0].date),m=h?a[l.caption_after_enter]:a[l.caption_before_enter],f=h?a[l.weeks_after_enter]:a[l.weeks_before_enter],p=i.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?(ac(g).forEach(e=>{if(!(e instanceof HTMLElement))return;let t=ad(e);t&&e.contains(t)&&e.removeChild(t);let a=au(e);a&&a.classList.remove(m);let n=ah(e);n&&n.classList.remove(f)}),i.current=g):i.current=null,c.current||u||r)return;let x=p instanceof HTMLElement?ac(p):[],y=ac(e.current);if(y?.every(e=>e instanceof HTMLElement)&&x&&x.every(e=>e instanceof HTMLElement)){c.current=!0;let t=[];e.current.style.isolation="isolate";let n=am(e.current);n&&(n.style.zIndex="1"),y.forEach((r,s)=>{let i=x[s];if(!i)return;r.style.position="relative",r.style.overflow="hidden";let o=au(r);o&&o.classList.add(m);let d=ah(r);d&&d.classList.add(f);let u=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),n&&(n.style.zIndex=""),o&&o.classList.remove(m),d&&d.classList.remove(f),r.style.position="",r.style.overflow="",r.contains(i)&&r.removeChild(i)};t.push(u),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",i.setAttribute("aria-hidden","true");let p=af(i);p&&(p.style.opacity="0");let g=au(i);g&&(g.classList.add(h?a[l.caption_before_exit]:a[l.caption_after_exit]),g.addEventListener("animationend",u));let y=ah(i);y&&y.classList.add(h?a[l.weeks_before_exit]:a[l.weeks_after_exit]),r.insertBefore(i,r.firstChild)})}})}(eM,!!t.animate,{classNames:h,months:L,focused:X,dateLib:d});let eS={dayPickerProps:t,selected:K,select:V,isSelected:Q,months:L,nextMonth:$,previousMonth:Y,goToMonth:q,getModifiers:B,components:a,classNames:h,styles:E,labels:c,formatters:n};return N.createElement(tO.Provider,{value:eS},N.createElement(a.Root,{rootRef:t.animate?eM:void 0,className:eC,style:ek,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...eD},N.createElement(a.Months,{className:h[r.Months],style:E?.[r.Months]},!t.hideNavigation&&!p&&N.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:h[r.Nav],style:E?.[r.Nav],"aria-label":es(),onPreviousClick:ef,onNextClick:ep,previousMonth:Y,nextMonth:$}),L.map((e,l)=>N.createElement(a.Month,{"data-animated-month":t.animate?"true":void 0,className:h[r.Month],style:E?.[r.Month],key:l,displayIndex:l,calendarMonth:e},"around"===p&&!t.hideNavigation&&0===l&&N.createElement(a.PreviousMonthButton,{type:"button",className:h[r.PreviousMonthButton],tabIndex:Y?void 0:-1,"aria-disabled":!Y||void 0,"aria-label":ei(Y),onClick:ef,"data-animated-button":t.animate?"true":void 0},N.createElement(a.Chevron,{disabled:!Y||void 0,className:h[r.Chevron],orientation:"rtl"===t.dir?"right":"left"})),N.createElement(a.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:h[r.MonthCaption],style:E?.[r.MonthCaption],calendarMonth:e,displayIndex:l},m?.startsWith("dropdown")?N.createElement(a.DropdownNav,{className:h[r.Dropdowns],style:E?.[r.Dropdowns]},"dropdown"===m||"dropdown-months"===m?N.createElement(a.MonthsDropdown,{className:h[r.MonthsDropdown],"aria-label":er(),classNames:h,components:a,disabled:!!t.disableNavigation,onChange:ej(e.date),options:function(e,t,a,n,r){let{startOfMonth:s,startOfYear:i,endOfYear:l,eachMonthOfInterval:o,getMonth:c}=r;return o({start:i(e),end:l(e)}).map(e=>{let i=n.formatMonthDropdown(e,r);return{value:c(e),label:i,disabled:t&&e<s(t)||a&&e>s(a)||!1}})}(e.date,I,U,n,d),style:E?.[r.Dropdown],value:d.getMonth(e.date)}):N.createElement("span",null,R(e.date,d)),"dropdown"===m||"dropdown-years"===m?N.createElement(a.YearsDropdown,{className:h[r.YearsDropdown],"aria-label":eu(d.options),classNames:h,components:a,disabled:!!t.disableNavigation,onChange:eN(e.date),options:function(e,t,a,n,r=!1){if(!e||!t)return;let{startOfYear:s,endOfYear:i,addYears:l,getYear:o,isBefore:c,isSameYear:d}=n,u=s(e),h=i(t),m=[],f=u;for(;c(f,h)||d(f,h);)m.push(f),f=l(f,1);return r&&m.reverse(),m.map(e=>{let t=a.formatYearDropdown(e,n);return{value:o(e),label:t,disabled:!1}})}(I,U,n,d,!!t.reverseYears),style:E?.[r.Dropdown],value:d.getYear(e.date)}):N.createElement("span",null,P(e.date,d)),N.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(e.date,d.options,d))):N.createElement(a.CaptionLabel,{className:h[r.CaptionLabel],role:"status","aria-live":"polite"},T(e.date,d.options,d))),"around"===p&&!t.hideNavigation&&l===g-1&&N.createElement(a.NextMonthButton,{type:"button",className:h[r.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":!$||void 0,"aria-label":el($),onClick:ep,"data-animated-button":t.animate?"true":void 0},N.createElement(a.Chevron,{disabled:!$||void 0,className:h[r.Chevron],orientation:"rtl"===t.dir?"left":"right"})),l===g-1&&"after"===p&&!t.hideNavigation&&N.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:h[r.Nav],style:E?.[r.Nav],"aria-label":es(),onPreviousClick:ef,onNextClick:ep,previousMonth:Y,nextMonth:$}),N.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===f||"range"===f,"aria-label":en(e.date,d.options,d)||void 0,className:h[r.MonthGrid],style:E?.[r.MonthGrid]},!t.hideWeekdays&&N.createElement(a.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:h[r.Weekdays],style:E?.[r.Weekdays]},_&&N.createElement(a.WeekNumberHeader,{"aria-label":ed(d.options),className:h[r.WeekNumberHeader],style:E?.[r.WeekNumberHeader],scope:"col"},F()),eh.map(e=>N.createElement(a.Weekday,{"aria-label":eo(e,d.options,d),className:h[r.Weekday],key:String(e),style:E?.[r.Weekday],scope:"col"},A(e,d.options,d)))),N.createElement(a.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:h[r.Weeks],style:E?.[r.Weeks]},e.weeks.map(e=>N.createElement(a.Week,{className:h[r.Week],key:e.weekNumber,style:E?.[r.Week],week:e},_&&N.createElement(a.WeekNumber,{week:e,style:E?.[r.WeekNumber],"aria-label":ec(e.weekNumber,{locale:u}),className:h[r.WeekNumber],scope:"row",role:"rowheader"},O(e.weekNumber,d)),e.days.map(e=>{let{date:n}=e,l=B(e);if(l[s.focused]=!l.hidden&&!!X?.isEqualTo(e),l[i.selected]=Q?.(n)||l.selected,tg(K)){let{from:e,to:t}=K;l[i.range_start]=!!(e&&t&&d.isSameDay(n,e)),l[i.range_end]=!!(e&&t&&d.isSameDay(n,t)),l[i.range_middle]=tf(K,n,!0,d)}let o=function(e,t={},a={}){let n={...t?.[r.Day]};return Object.entries(e).filter(([,e])=>!0===e).forEach(([e])=>{n={...n,...a?.[e]}}),n}(l,E,t.modifiersStyles),c=function(e,t,a={}){return Object.entries(e).filter(([,e])=>!0===e).reduce((e,[n])=>(a[n]?e.push(a[n]):t[s[n]]?e.push(t[s[n]]):t[i[n]]&&e.push(t[i[n]]),e),[t[r.Day]])}(l,h,t.modifiersClassNames),u=em||l.hidden?void 0:ea(n,l,d.options,d);return N.createElement(a.Day,{key:`${d.format(n,"yyyy-MM-dd")}_${d.format(e.displayMonth,"yyyy-MM")}`,day:e,modifiers:l,className:c.join(" "),style:o,role:"gridcell","aria-selected":l.selected||void 0,"aria-label":u,"data-day":d.format(n,"yyyy-MM-dd"),"data-month":e.outside?d.format(n,"yyyy-MM"):void 0,"data-selected":l.selected||void 0,"data-disabled":l.disabled||void 0,"data-hidden":l.hidden||void 0,"data-outside":e.outside||void 0,"data-focused":l.focused||void 0,"data-today":l.today||void 0},!l.hidden&&em?N.createElement(a.DayButton,{className:h[r.DayButton],style:E?.[r.DayButton],type:"button",day:e,modifiers:l,disabled:l.disabled||void 0,tabIndex:G(e)?0:-1,"aria-label":et(n,l,d.options,d),onClick:eg(e,l),onBlur:ey(e,l),onFocus:ex(e,l),onKeyDown:ev(e,l),onMouseEnter:eb(e,l),onMouseLeave:ew(e,l)},z(n,d.options,d)):!l.hidden&&z(e.date,d.options,d))})))))))),t.footer&&N.createElement(a.Footer,{className:h[r.Footer],style:E?.[r.Footer],role:"status","aria-live":"polite"},t.footer)))}function aN({className:e,classNames:t,showOutsideDays:a=!0,...n}){return j.jsx(aj,{showOutsideDays:a,className:(0,K.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,K.cn)((0,_.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,K.cn)((0,_.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>j.jsx(B,{className:"h-4 w-4"}),IconRight:({...e})=>j.jsx(Q.Z,{className:"h-4 w-4"})},...n})}(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(o||(o={})),aN.displayName="Calendar";var aC=a(24988),ak=a(97464),aD=a(40087),aM=a(80582),aS=a(52955),a_=a(27405),aE=a(70293);let aT=[{label:"Today",getValue:()=>({from:new Date,to:new Date})},{label:"Yesterday",getValue:()=>({from:(0,aS.k)(new Date,1),to:(0,aS.k)(new Date,1)})},{label:"Last 7 days",getValue:()=>({from:(0,aS.k)(new Date,6),to:new Date})},{label:"Last 30 days",getValue:()=>({from:(0,aS.k)(new Date,29),to:new Date})},{label:"This month",getValue:()=>({from:(0,to.N)(new Date),to:(0,e8.V)(new Date)})},{label:"Last month",getValue:()=>{let e=(0,a_.W)(new Date,1);return{from:(0,to.N)(e),to:(0,e8.V)(e)}}},{label:"Last 3 months",getValue:()=>({from:(0,a_.W)(new Date,3),to:new Date})},{label:"Last 6 months",getValue:()=>({from:(0,a_.W)(new Date,6),to:new Date})},{label:"This year",getValue:()=>({from:new Date(new Date().getFullYear(),0,1),to:new Date})}];function az({filters:e,onFiltersChange:t,accounts:a,categories:n,onReset:r,className:s}){let[i,l]=(0,N.useState)(!1),[o,c]=(0,N.useState)({}),[d,u]=(0,N.useState)(!1),h=(a,n)=>{let r={...e};""===n||void 0===n||"all"===n?delete r[a]:r[a]=n,t(r)},m=a=>{c(a),t({...e,date_from:a.from?(0,e9.WU)(a.from,"yyyy-MM-dd"):void 0,date_to:a.to?(0,e9.WU)(a.to,"yyyy-MM-dd"):void 0})},f=e=>{m(e.getValue()),u(!1)},p=Object.keys(e).filter(t=>void 0!==e[t]&&"limit"!==t&&"offset"!==t).length;return(0,j.jsxs)("div",{className:(0,K.cn)("space-y-4",s),children:[(0,j.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,j.jsxs)(eb,{open:d,onOpenChange:u,children:[j.jsx(eN,{asChild:!0,children:(0,j.jsxs)(_.z,{variant:"outline",className:(0,K.cn)("w-[240px] justify-start text-left font-normal",!o.from&&"text-muted-foreground"),children:[j.jsx(ak.Z,{className:"mr-2 h-4 w-4"}),o.from?o.to?(0,j.jsxs)(j.Fragment,{children:[(0,e9.WU)(o.from,"MMM d, yyyy")," - ",(0,e9.WU)(o.to,"MMM d, yyyy")]}):(0,e9.WU)(o.from,"MMM d, yyyy"):"Select date range"]})}),j.jsx(eA,{className:"w-auto p-0",align:"start",children:(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsxs)("div",{className:"border-r p-3 space-y-1",children:[j.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Quick Select"}),aT.map(e=>j.jsx(_.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-left",onClick:()=>f(e),children:e.label},e.label))]}),j.jsx("div",{className:"p-3",children:j.jsx(aN,{mode:"range",selected:o,onSelect:m,initialFocus:!0,numberOfMonths:2})})]})})]}),(0,j.jsxs)(G.Ph,{value:e.account_id||"all",onValueChange:e=>h("account_id","all"===e?void 0:e),children:[j.jsx(G.i4,{className:"w-[200px]",children:j.jsx(G.ki,{placeholder:"All accounts"})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"all",children:"All accounts"}),a.map(e=>j.jsx(G.Ql,{value:e.id,children:(0,j.jsxs)("div",{className:"flex items-center",children:[j.jsx("span",{children:e.name}),e.mask&&(0,j.jsxs)("span",{className:"ml-2 text-xs text-muted-foreground",children:[" ",e.mask]})]})},e.id))]})]}),(0,j.jsxs)(G.Ph,{value:e.category_id||"all",onValueChange:e=>h("category_id","all"===e?void 0:e),children:[j.jsx(G.i4,{className:"w-[200px]",children:j.jsx(G.ki,{placeholder:"All categories"})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"all",children:"All categories"}),n.map(e=>j.jsx(G.Ql,{value:e.id,children:(0,j.jsxs)("div",{className:"flex items-center",children:[e.icon&&j.jsx("span",{className:"mr-2",children:e.icon}),j.jsx("span",{children:e.name})]})},e.id))]})]}),(0,j.jsxs)(G.Ph,{value:e.transaction_type||"all",onValueChange:e=>h("transaction_type",e),children:[j.jsx(G.i4,{className:"w-[150px]",children:j.jsx(G.ki,{placeholder:"All types"})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"all",children:"All types"}),j.jsx(G.Ql,{value:"income",children:(0,j.jsxs)("div",{className:"flex items-center",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),"Income"]})}),j.jsx(G.Ql,{value:"expense",children:(0,j.jsxs)("div",{className:"flex items-center",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 mr-2"}),"Expense"]})})]})]}),(0,j.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-[400px]",children:[j.jsx(P.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),j.jsx(F.I,{placeholder:"Search by description or merchant...",value:e.search||"",onChange:e=>h("search",e.target.value),className:"pl-9"})]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>l(!i),children:[j.jsx(aD.Z,{className:"mr-2 h-4 w-4"}),"Advanced",j.jsx(I.Z,{className:(0,K.cn)("ml-2 h-4 w-4 transition-transform",i&&"rotate-180")})]}),p>0&&(0,j.jsxs)(_.z,{variant:"ghost",size:"sm",onClick:()=>{c({}),r?r():t({})},children:[j.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Clear (",p,")"]})]}),i&&(0,j.jsxs)("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{className:"space-y-2",children:[j.jsx(X._,{children:"Amount Range"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsxs)("div",{className:"relative flex-1",children:[j.jsx(aM.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),j.jsx(F.I,{type:"number",placeholder:"Min",value:e.amount_min||"",onChange:e=>h("amount_min",e.target.value?parseFloat(e.target.value):void 0),className:"pl-9"})]}),j.jsx("span",{className:"text-muted-foreground",children:"to"}),(0,j.jsxs)("div",{className:"relative flex-1",children:[j.jsx(aM.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),j.jsx(F.I,{type:"number",placeholder:"Max",value:e.amount_max||"",onChange:e=>h("amount_max",e.target.value?parseFloat(e.target.value):void 0),className:"pl-9"})]})]})]}),(0,j.jsxs)("div",{className:"space-y-2",children:[j.jsx(X._,{children:"Merchant Name"}),j.jsx(F.I,{placeholder:"Enter merchant name...",value:e.merchant_name||"",onChange:e=>h("merchant_name",e.target.value)})]}),(0,j.jsxs)("div",{className:"space-y-2",children:[j.jsx(X._,{children:"Transaction Status"}),(0,j.jsxs)(G.Ph,{value:void 0===e.is_pending?"all":e.is_pending.toString(),onValueChange:e=>h("is_pending","all"===e?void 0:"true"===e),children:[j.jsx(G.i4,{children:j.jsx(G.ki,{placeholder:"All statuses"})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"all",children:"All statuses"}),j.jsx(G.Ql,{value:"false",children:"Posted"}),j.jsx(G.Ql,{value:"true",children:"Pending"})]})]})]})]}),p>0&&(0,j.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[j.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),e.date_from&&e.date_to&&(0,j.jsxs)(aC.C,{variant:"secondary",children:[(0,e9.WU)((0,aE.D)(e.date_from),"MMM d")," - ",(0,e9.WU)((0,aE.D)(e.date_to),"MMM d")]}),e.account_id&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Account: ",a.find(t=>t.id===e.account_id)?.name]}),e.category_id&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Category: ",n.find(t=>t.id===e.category_id)?.name]}),e.transaction_type&&"all"!==e.transaction_type&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Type: ",e.transaction_type]}),void 0!==e.amount_min&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Min: $",e.amount_min]}),void 0!==e.amount_max&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Max: $",e.amount_max]}),e.merchant_name&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Merchant: ",e.merchant_name]}),void 0!==e.is_pending&&(0,j.jsxs)(aC.C,{variant:"secondary",children:["Status: ",e.is_pending?"Pending":"Posted"]})]})]})]})}var aR=a(10237),aO=a(65330);let aF=(0,W.Z)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var aA=a(11485),aP=a(37139);let aZ=(0,W.Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var aW=a(12198),aL=a(71692),aI=a(5569),aU=a(13835),aY=a(90931),a$=a(40103),aq=a(35010);let aB=(0,W.Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var aQ=a(93126),aV=a(34666),aK=a(25515),aH=a(56942),aX=a(74431);let aG=N.forwardRef(({isOpen:e,onClose:t,title:a,description:n,children:r,size:s="md",className:i,hideCloseButton:l},o)=>(N.useEffect(()=>{let a=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),e)?(0,j.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[j.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,j.jsxs)("div",{ref:o,className:(0,K.cn)("relative w-full rounded-lg bg-white shadow-xl",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[s],i),children:[(a||!l)&&(0,j.jsxs)("div",{className:"flex items-center justify-between p-6 pb-4",children:[(0,j.jsxs)("div",{children:[a&&j.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:a}),n&&j.jsx("p",{className:"mt-1 text-sm text-neutral-600",children:n})]}),!l&&j.jsx("button",{onClick:t,className:"rounded-md p-2 hover:bg-neutral-100",children:j.jsx(Z.Z,{className:"h-5 w-5"})})]}),j.jsx("div",{className:(0,K.cn)("px-6",a||!l?"pb-6":"py-6"),children:r})]})]}):null);aG.displayName="Modal";var aJ=a(51500),a0=a(85882),a1=a(4175);let a2={salary:j.jsx(aM.Z,{className:"h-4 w-4"}),freelance:j.jsx(aM.Z,{className:"h-4 w-4"}),investment:j.jsx(aM.Z,{className:"h-4 w-4"}),business:j.jsx(aq.Z,{className:"h-4 w-4"}),other_income:j.jsx(aM.Z,{className:"h-4 w-4"}),groceries:j.jsx(aB,{className:"h-4 w-4"}),restaurants:j.jsx(aB,{className:"h-4 w-4"}),gas:j.jsx(aB,{className:"h-4 w-4"}),utilities:j.jsx(aq.Z,{className:"h-4 w-4"}),rent:j.jsx(aq.Z,{className:"h-4 w-4"}),mortgage:j.jsx(aq.Z,{className:"h-4 w-4"}),default:j.jsx(aZ,{className:"h-4 w-4"})};function a4({isOpen:e,onClose:t,transactions:a,onTransactionsUpdated:n,className:r}){let[s,i]=C().useState([]),[l,o]=C().useState([]),[c,d]=C().useState(""),[u,h]=C().useState(""),[m,f]=C().useState({}),[p,g]=C().useState(!1),[x,y]=C().useState(!1),[v,b]=C().useState(!1),[w,N]=C().useState(""),[k,D]=C().useState("expense"),[M,S]=C().useState(""),[E,T]=C().useState(""),[z,R]=C().useState(0),O=C().useRef(null),A=C().useRef([]),W=e=>a2[e.icon||e.name.toLowerCase().replace(/\s+/g,"_")]||a2.default,L=e=>{switch(e.type){case"income":return"success";case"expense":return"destructive";case"transfer":return"secondary";default:return"outline"}},I=(e,t)=>{let a=m[t];if(!a)return 0;let n=a.find(t=>t.category_id===e);return n?.confidence||0},U=e=>{h(e)},Y=async()=>{if(w.trim())try{g(!0);let e=await a0.Y.createCategory({name:w.trim(),type:k,is_system:!1}),t={...e,icon_element:W(e)};i(e=>[...e,t]),h(e.id),b(!1),N(""),S(`Created category "${e.name}"`)}catch(e){console.error("Failed to create category:",e),T("Failed to create category")}finally{g(!1)}},$=async()=>{if(u)try{if(y(!0),T(""),S(""),1===a.length){let e=await a1.d.updateTransaction(a[0].id,{category_id:u});n([e]),S("Transaction categorized successfully")}else{let e=0,t=[],r=[];for(let e=0;e<a.length;e+=10)r.push(a.slice(e,e+10));let s=[];for(let a of r)try{let t=await a1.d.bulkUpdateTransactions({transaction_ids:a.map(e=>e.id),updates:{category_id:u}});s.push(...t),e+=a.length}catch(e){t.push(`Failed to update ${a.length} transactions: ${e.message}`)}n(s),0===t.length?S(`${e} transactions categorized successfully`):(S(`${e} transactions categorized successfully`),t.length>0&&T(`${t.length} batches failed. Some transactions may not have been updated.`))}1===a.length&&setTimeout(()=>{t()},1500)}catch(e){console.error("Failed to categorize transactions:",e),T(e.message||"Failed to categorize transactions")}finally{y(!1)}},q=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(e)),B=a[z],Q=B&&m[B.id]||[],V=s.find(e=>e.id===u);return e?j.jsx(aG,{isOpen:e,onClose:t,title:1===a.length?"Categorize Transaction":`Categorize ${a.length} Transactions`,description:1===a.length?"Select a category for this transaction":"Select a category to apply to all selected transactions",size:"xl",className:r,children:(0,j.jsxs)("div",{className:"space-y-6",children:[E&&(0,j.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-error-50 border border-error-200 rounded-lg text-error-700",children:[j.jsx(aQ.Z,{className:"h-5 w-5"}),j.jsx("span",{children:E}),j.jsx("button",{onClick:()=>T(""),className:"ml-auto p-1 hover:bg-error-100 rounded",children:j.jsx(Z.Z,{className:"h-4 w-4"})})]}),M&&(0,j.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-success-50 border border-success-200 rounded-lg text-success-700",children:[j.jsx(aW.Z,{className:"h-5 w-5"}),j.jsx("span",{children:M}),j.jsx("button",{onClick:()=>S(""),className:"ml-auto p-1 hover:bg-success-100 rounded",children:j.jsx(Z.Z,{className:"h-4 w-4"})})]}),j.jsx("div",{className:"space-y-4",children:1===a.length?j.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,j.jsxs)("div",{className:"flex items-start justify-between",children:[(0,j.jsxs)("div",{className:"flex-1",children:[j.jsx("h3",{className:"font-semibold text-neutral-900",children:B.description}),(0,j.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-neutral-600",children:[(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[j.jsx(ak.Z,{className:"h-4 w-4"}),(0,e9.WU)(new Date(B.date),"MMM d, yyyy")]}),B.merchant_name&&(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[j.jsx(aq.Z,{className:"h-4 w-4"}),B.merchant_name]})]})]}),j.jsx("div",{className:"text-right",children:(0,j.jsxs)("p",{className:(0,K.cn)("text-lg font-bold",B.amount<0?"text-error-600":"text-success-600"),children:[B.amount<0?"-":"+",q(B.amount)]})})]})}):(0,j.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsxs)("h3",{className:"font-semibold text-neutral-900",children:[a.length," Selected Transactions"]}),(0,j.jsxs)("div",{className:"text-sm text-neutral-600",children:["Total: ",q(a.reduce((e,t)=>e+t.amount,0))]})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>R(e=>Math.max(0,e-1)),disabled:0===z,children:"Previous"}),(0,j.jsxs)("span",{className:"flex items-center px-3 py-1 bg-white border rounded text-sm",children:[z+1," of ",a.length]}),j.jsx(_.z,{variant:"outline",size:"sm",onClick:()=>R(e=>Math.min(a.length-1,e+1)),disabled:z===a.length-1,children:"Next"})]})]}),(0,j.jsxs)("div",{className:"flex items-start justify-between bg-white border rounded-lg p-3",children:[(0,j.jsxs)("div",{className:"flex-1",children:[j.jsx("h4",{className:"font-medium text-neutral-900",children:B.description}),(0,j.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-neutral-600",children:[(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[j.jsx(ak.Z,{className:"h-4 w-4"}),(0,e9.WU)(new Date(B.date),"MMM d, yyyy")]}),B.merchant_name&&(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[j.jsx(aq.Z,{className:"h-4 w-4"}),B.merchant_name]})]})]}),j.jsx("div",{className:"text-right",children:(0,j.jsxs)("p",{className:(0,K.cn)("font-bold",B.amount<0?"text-error-600":"text-success-600"),children:[B.amount<0?"-":"+",q(B.amount)]})})]}),a.length>1&&(0,j.jsxs)("div",{className:"mt-3 p-3 bg-info-50 border border-info-200 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 text-sm text-info-700",children:[j.jsx(aV.Z,{className:"h-4 w-4"}),j.jsx("span",{className:"font-medium",children:"Bulk Operation:"}),"The selected category will be applied to all ",a.length," transactions."]}),(0,j.jsxs)("div",{className:"mt-2 text-xs text-info-600",children:[a.filter(e=>!e.category_id).length," uncategorized transactions will be updated."]})]})]})}),Q.length>0&&(0,j.jsxs)("div",{className:"bg-info-50 border border-info-200 rounded-lg p-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[j.jsx(aK.Z,{className:"h-5 w-5 text-info-600"}),j.jsx("h4",{className:"font-medium text-info-900",children:"AI Suggestions"})]}),j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Q.slice(0,4).map((e,t)=>{let a=s.find(t=>t.id===e.category_id);return a?(0,j.jsxs)("button",{onClick:()=>U(e.category_id),className:(0,K.cn)("flex items-center gap-2 p-3 rounded-lg border text-left transition-colors hover:bg-info-100",u===e.category_id?"border-info-500 bg-info-100":"border-info-200 bg-white"),children:[a.icon_element,(0,j.jsxs)("div",{className:"flex-1",children:[j.jsx("p",{className:"font-medium",children:a.name}),(0,j.jsxs)(aC.C,{variant:"info",className:"text-xs",children:[Math.round(100*e.confidence),"% confidence"]})]}),u===e.category_id&&j.jsx(aH.Z,{className:"h-4 w-4 text-info-600"})]},e.category_id):null})})]}),(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)("div",{className:"relative flex-1",children:[j.jsx(P.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-500"}),j.jsx(F.I,{ref:O,placeholder:"Search categories...",value:c,onChange:e=>d(e.target.value),className:"pl-10"})]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[j.jsx(aX.Z,{className:"h-4 w-4 mr-1"}),"New"]})]}),v&&(0,j.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4 space-y-3",children:[j.jsx("h4",{className:"font-medium text-neutral-900",children:"Create New Category"}),(0,j.jsxs)("div",{className:"flex gap-2",children:[j.jsx(F.I,{placeholder:"Category name",value:w,onChange:e=>N(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Y())},className:"flex-1"}),(0,j.jsxs)("select",{value:k,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm",children:[j.jsx("option",{value:"expense",children:"Expense"}),j.jsx("option",{value:"income",children:"Income"}),j.jsx("option",{value:"transfer",children:"Transfer"})]}),j.jsx(_.z,{onClick:Y,disabled:!w.trim()||p,loading:p,children:"Create"}),j.jsx(_.z,{variant:"outline",onClick:()=>{b(!1),N("")},children:"Cancel"})]})]})]}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)("h4",{className:"font-medium text-neutral-900",children:["Categories (",l.length,")"]}),j.jsx(aJ.x,{className:"max-h-80",children:j.jsx("div",{className:"space-y-1 pr-4",children:p?j.jsx("div",{className:"flex items-center justify-center py-8",children:j.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-b-2 border-primary-600"})}):0===l.length?j.jsx("div",{className:"text-center py-8 text-neutral-500",children:c?"No categories found":"No categories available"}):l.map((e,t)=>{let a=I(e.id,B?.id||""),n=u===e.id;return(0,j.jsxs)("button",{ref:e=>{A.current[t]=e},onClick:()=>U(e.id),className:(0,K.cn)("w-full flex items-center gap-3 p-3 rounded-lg border text-left transition-colors hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-primary-500",n?"border-primary-500 bg-primary-50":"border-neutral-200",a>.7&&"ring-2 ring-info-200"),children:[j.jsx("div",{className:"flex-shrink-0",children:e.icon_element}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[j.jsx("p",{className:"font-medium text-neutral-900 truncate",children:e.name}),(0,j.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[j.jsx(aC.C,{variant:L(e),className:"text-xs",children:e.type}),a>0&&(0,j.jsxs)(aC.C,{variant:"info",className:"text-xs",children:[Math.round(100*a),"% match"]})]})]}),n&&j.jsx(aH.Z,{className:"h-5 w-5 text-primary-600 flex-shrink-0"})]},e.id)})})})]}),V&&j.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[V.icon_element,(0,j.jsxs)("span",{className:"font-medium text-primary-900",children:["Selected: ",V.name]})]}),j.jsx(aC.C,{variant:L(V),children:V.type})]})}),(0,j.jsxs)("div",{className:"flex items-center justify-between border-t pt-4",children:[j.jsx("div",{className:"text-sm text-neutral-600",children:1===a.length?"Use arrow keys to navigate, Enter to select":`Will apply to ${a.length} transactions  Use   to preview`}),(0,j.jsxs)("div",{className:"flex gap-2",children:[j.jsx(_.z,{variant:"outline",onClick:t,children:"Cancel"}),j.jsx(_.z,{onClick:$,disabled:!u||x,loading:x,className:a.length>1?"bg-primary-600 hover:bg-primary-700":"",children:x?1===a.length?"Applying...":`Applying to ${a.length} transactions...`:1===a.length?"Apply Category":`Apply to ${a.length} transactions`})]})]})]})}):null}let a5=(0,W.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var a3=a(22057);let a6=(0,W.Z)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var a8=a(93770),a7=a(49092);let a9=(0,W.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var ne=a(7527);let nt=(0,W.Z)("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);var na=a(20426),nn=a(39790),nr=a(36910);let ns=(0,W.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ni=(0,W.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var nl=a(62812);let no="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function nc(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function nd(e){return"nodeType"in e}function nu(e){var t,a;return e?nc(e)?e:nd(e)&&null!=(t=null==(a=e.ownerDocument)?void 0:a.defaultView)?t:window:window}function nh(e){let{Document:t}=nu(e);return e instanceof t}function nm(e){return!nc(e)&&e instanceof nu(e).HTMLElement}function nf(e){return e instanceof nu(e).SVGElement}function np(e){return e?nc(e)?e.document:nd(e)?nh(e)?e:nm(e)||nf(e)?e.ownerDocument:document:document:document}let ng=no?N.useLayoutEffect:N.useEffect;function nx(e){let t=(0,N.useRef)(e);return ng(()=>{t.current=e}),(0,N.useCallback)(function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return null==t.current?void 0:t.current(...a)},[])}function ny(e,t){void 0===t&&(t=[e]);let a=(0,N.useRef)(e);return ng(()=>{a.current!==e&&(a.current=e)},t),a}function nv(e,t){let a=(0,N.useRef)();return(0,N.useMemo)(()=>{let t=e(a.current);return a.current=t,t},[...t])}function nb(e){let t=nx(e),a=(0,N.useRef)(null),n=(0,N.useCallback)(e=>{e!==a.current&&(null==t||t(e,a.current)),a.current=e},[]);return[a,n]}function nw(e){let t=(0,N.useRef)();return(0,N.useEffect)(()=>{t.current=e},[e]),t.current}let nj={};function nN(e,t){return(0,N.useMemo)(()=>{if(t)return t;let a=null==nj[e]?0:nj[e]+1;return nj[e]=a,e+"-"+a},[e,t])}function nC(e){return function(t){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.reduce((t,a)=>{for(let[n,r]of Object.entries(a)){let a=t[n];null!=a&&(t[n]=a+e*r)}return t},{...t})}}let nk=nC(1),nD=nC(-1);function nM(e){if(!e)return!1;let{KeyboardEvent:t}=nu(e.target);return t&&e instanceof t}function nS(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=nu(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:a}=e.touches[0];return{x:t,y:a}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:a}=e.changedTouches[0];return{x:t,y:a}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let n_=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:a}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:a}=e;return"scaleX("+t+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[n_.Translate.toString(e),n_.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:a,easing:n}=e;return t+" "+a+"ms "+n}}}),nE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",nT={display:"none"};function nz(e){let{id:t,value:a}=e;return C().createElement("div",{id:t,style:nT},a)}function nR(e){let{id:t,announcement:a,ariaLiveType:n="assertive"}=e;return C().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},a)}let nO=(0,N.createContext)(null),nF={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},nA={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was moved over droppable area "+a.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was dropped over droppable area "+a.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function nP(e){let{announcements:t=nA,container:a,hiddenTextDescribedById:n,screenReaderInstructions:r=nF}=e,{announce:s,announcement:i}=function(){let[e,t]=(0,N.useState)("");return{announce:(0,N.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=nN("DndLiveRegion"),[o,c]=(0,N.useState)(!1);if((0,N.useEffect)(()=>{c(!0)},[]),function(e){let t=(0,N.useContext)(nO);(0,N.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,N.useMemo)(()=>({onDragStart(e){let{active:a}=e;s(t.onDragStart({active:a}))},onDragMove(e){let{active:a,over:n}=e;t.onDragMove&&s(t.onDragMove({active:a,over:n}))},onDragOver(e){let{active:a,over:n}=e;s(t.onDragOver({active:a,over:n}))},onDragEnd(e){let{active:a,over:n}=e;s(t.onDragEnd({active:a,over:n}))},onDragCancel(e){let{active:a,over:n}=e;s(t.onDragCancel({active:a,over:n}))}}),[s,t])),!o)return null;let d=C().createElement(C().Fragment,null,C().createElement(nz,{id:n,value:r.draggable}),C().createElement(nR,{id:l,announcement:i}));return a?(0,nl.createPortal)(d,a):d}function nZ(){}function nW(e,t){return(0,N.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function nL(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,N.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(c||(c={}));let nI=Object.freeze({x:0,y:0});function nU(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nY(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return a-n}function n$(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return n-a}function nq(e){let{left:t,top:a,height:n,width:r}=e;return[{x:t,y:a},{x:t+r,y:a},{x:t,y:a+n},{x:t+r,y:a+n}]}function nB(e,t){if(!e||0===e.length)return null;let[a]=e;return t?a[t]:a}function nQ(e,t,a){return void 0===t&&(t=e.left),void 0===a&&(a=e.top),{x:t+.5*e.width,y:a+.5*e.height}}let nV=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e,r=nQ(t,t.left,t.top),s=[];for(let e of n){let{id:t}=e,n=a.get(t);if(n){let a=nU(nQ(n),r);s.push({id:t,data:{droppableContainer:e,value:a}})}}return s.sort(nY)},nK=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e,r=nq(t),s=[];for(let e of n){let{id:t}=e,n=a.get(t);if(n){let a=nq(n),i=Number((r.reduce((e,t,n)=>e+nU(a[n],t),0)/4).toFixed(4));s.push({id:t,data:{droppableContainer:e,value:i}})}}return s.sort(nY)},nH=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e,r=[];for(let e of n){let{id:n}=e,s=a.get(n);if(s){let a=function(e,t){let a=Math.max(t.top,e.top),n=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height);if(n<r&&a<s){let i=t.width*t.height,l=e.width*e.height,o=(r-n)*(s-a);return Number((o/(i+l-o)).toFixed(4))}return 0}(s,t);a>0&&r.push({id:n,data:{droppableContainer:e,value:a}})}}return r.sort(n$)};function nX(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:nI}let nG=function(e){return function(t){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.reduce((t,a)=>({...t,top:t.top+e*a.y,bottom:t.bottom+e*a.y,left:t.left+e*a.x,right:t.right+e*a.x}),{...t})}}(1),nJ={ignoreTransform:!1};function n0(e,t){void 0===t&&(t=nJ);let a=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=nu(e).getComputedStyle(e);t&&(a=function(e,t,a){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:r,scaleY:s,x:i,y:l}=n,o=e.left-i-(1-r)*parseFloat(a),c=e.top-l-(1-s)*parseFloat(a.slice(a.indexOf(" ")+1)),d=r?e.width/r:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o}}(a,t,n))}let{top:n,left:r,width:s,height:i,bottom:l,right:o}=a;return{top:n,left:r,width:s,height:i,bottom:l,right:o}}function n1(e){return n0(e,{ignoreTransform:!0})}function n2(e,t){let a=[];return e?function n(r){var s;if(null!=t&&a.length>=t||!r)return a;if(nh(r)&&null!=r.scrollingElement&&!a.includes(r.scrollingElement))return a.push(r.scrollingElement),a;if(!nm(r)||nf(r)||a.includes(r))return a;let i=nu(e).getComputedStyle(r);return(r!==e&&function(e,t){void 0===t&&(t=nu(e).getComputedStyle(e));let a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let n=t[e];return"string"==typeof n&&a.test(n)})}(r,i)&&a.push(r),void 0===(s=i)&&(s=nu(r).getComputedStyle(r)),"fixed"===s.position)?a:n(r.parentNode)}(e):a}function n4(e){let[t]=n2(e,1);return null!=t?t:null}function n5(e){return no&&e?nc(e)?e:nd(e)?nh(e)||e===np(e).scrollingElement?window:nm(e)?e:null:null:null}function n3(e){return nc(e)?e.scrollX:e.scrollLeft}function n6(e){return nc(e)?e.scrollY:e.scrollTop}function n8(e){return{x:n3(e),y:n6(e)}}function n7(e){return!!no&&!!e&&e===document.scrollingElement}function n9(e){let t={x:0,y:0},a=n7(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},r=e.scrollTop<=t.y;return{isTop:r,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(d||(d={}));let re={x:.2,y:.2};function rt(e){return e.reduce((e,t)=>nk(e,n8(t)),nI)}let ra=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+n3(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+n6(t),0)}]];class rn{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let a=n2(t),n=rt(a);for(let[t,r,s]of(this.rect={...e},this.width=e.width,this.height=e.height,ra))for(let e of r)Object.defineProperty(this,e,{get:()=>{let r=s(a),i=n[t]-r;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rr{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,a){var n;null==(n=this.target)||n.addEventListener(e,t,a),this.listeners.push([e,t,a])}}function rs(e,t){let a=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(a**2+n**2)>t:"x"in t&&"y"in t?a>t.x&&n>t.y:"x"in t?a>t.x:"y"in t&&n>t.y}function ri(e){e.preventDefault()}function rl(e){e.stopPropagation()}(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(u||(u={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(h||(h={}));let ro={start:[h.Space,h.Enter],cancel:[h.Esc],end:[h.Space,h.Enter,h.Tab]},rc=(e,t)=>{let{currentCoordinates:a}=t;switch(e.code){case h.Right:return{...a,x:a.x+25};case h.Left:return{...a,x:a.x-25};case h.Down:return{...a,y:a.y+25};case h.Up:return{...a,y:a.y-25}}};class rd{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new rr(np(t)),this.windowListeners=new rr(nu(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(u.Resize,this.handleCancel),this.windowListeners.add(u.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(u.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,a=e.node.current;a&&function(e,t){if(void 0===t&&(t=n0),!e)return;let{top:a,left:n,bottom:r,right:s}=t(e);n4(e)&&(r<=0||s<=0||a>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(a),t(nI)}handleKeyDown(e){if(nM(e)){let{active:t,context:a,options:n}=this.props,{keyboardCodes:r=ro,coordinateGetter:s=rc,scrollBehavior:i="smooth"}=n,{code:l}=e;if(r.end.includes(l)){this.handleEnd(e);return}if(r.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:o}=a.current,c=o?{x:o.left,y:o.top}:nI;this.referenceCoordinates||(this.referenceCoordinates=c);let d=s(e,{active:t,context:a.current,currentCoordinates:c});if(d){let t=nD(d,c),n={x:0,y:0},{scrollableAncestors:r}=a.current;for(let a of r){let r=e.code,{isTop:s,isRight:l,isLeft:o,isBottom:c,maxScroll:u,minScroll:m}=n9(a),f=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:a,right:n,bottom:r}=e.getBoundingClientRect();return{top:t,left:a,right:n,bottom:r,width:e.clientWidth,height:e.clientHeight}}(a),p={x:Math.min(r===h.Right?f.right-f.width/2:f.right,Math.max(r===h.Right?f.left:f.left+f.width/2,d.x)),y:Math.min(r===h.Down?f.bottom-f.height/2:f.bottom,Math.max(r===h.Down?f.top:f.top+f.height/2,d.y))},g=r===h.Right&&!l||r===h.Left&&!o,x=r===h.Down&&!c||r===h.Up&&!s;if(g&&p.x!==d.x){let e=a.scrollLeft+t.x,s=r===h.Right&&e<=u.x||r===h.Left&&e>=m.x;if(s&&!t.y){a.scrollTo({left:e,behavior:i});return}s?n.x=a.scrollLeft-e:n.x=r===h.Right?a.scrollLeft-u.x:a.scrollLeft-m.x,n.x&&a.scrollBy({left:-n.x,behavior:i});break}if(x&&p.y!==d.y){let e=a.scrollTop+t.y,s=r===h.Down&&e<=u.y||r===h.Up&&e>=m.y;if(s&&!t.x){a.scrollTo({top:e,behavior:i});return}s?n.y=a.scrollTop-e:n.y=r===h.Down?a.scrollTop-u.y:a.scrollTop-m.y,n.y&&a.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,nk(nD(d,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:a}=this.props;e.preventDefault(),a(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ru(e){return!!(e&&"distance"in e)}function rh(e){return!!(e&&"delay"in e)}rd.activators=[{eventName:"onKeyDown",handler:(e,t,a)=>{let{keyboardCodes:n=ro,onActivation:r}=t,{active:s}=a,{code:i}=e.nativeEvent;if(n.start.includes(i)){let t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}return!1}}];class rm{constructor(e,t,a){var n;void 0===a&&(a=function(e){let{EventTarget:t}=nu(e);return e instanceof t?e:np(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:s}=r;this.props=e,this.events=t,this.document=np(s),this.documentListeners=new rr(this.document),this.listeners=new rr(a),this.windowListeners=new rr(nu(s)),this.initialCoordinates=null!=(n=nS(r))?n:nI,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(u.Resize,this.handleCancel),this.windowListeners.add(u.DragStart,ri),this.windowListeners.add(u.VisibilityChange,this.handleCancel),this.windowListeners.add(u.ContextMenu,ri),this.documentListeners.add(u.Keydown,this.handleKeydown),t){if(null!=a&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rh(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(ru(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:a,onPending:n}=this.props;n(a,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(u.Click,rl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(u.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:a,initialCoordinates:n,props:r}=this,{onMove:s,options:{activationConstraint:i}}=r;if(!n)return;let l=null!=(t=nS(e))?t:nI,o=nD(n,l);if(!a&&i){if(ru(i)){if(null!=i.tolerance&&rs(o,i.tolerance))return this.handleCancel();if(rs(o,i.distance))return this.handleStart()}return rh(i)&&rs(o,i.tolerance)?this.handleCancel():void this.handlePending(i,o)}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===h.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let rf={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rp extends rm{constructor(e){let{event:t}=e;super(e,rf,np(t.target))}}rp.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return!!a.isPrimary&&0===a.button&&(null==n||n({event:a}),!0)}}];let rg={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(m||(m={}));class rx extends rm{constructor(e){super(e,rg,np(e.event.target))}}rx.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return a.button!==m.RightClick&&(null==n||n({event:a}),!0)}}];let ry={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rv extends rm{constructor(e){super(e,ry)}static setup(){return window.addEventListener(ry.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ry.move.name,e)};function e(){}}}rv.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t,{touches:r}=a;return!(r.length>1)&&(null==n||n({event:a}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(f||(f={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(p||(p={}));let rb={x:{[d.Backward]:!1,[d.Forward]:!1},y:{[d.Backward]:!1,[d.Forward]:!1}};(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(g||(g={})),(x||(x={})).Optimized="optimized";let rw=new Map;function rj(e,t){return nv(a=>e?a||("function"==typeof t?t(e):e):null,[t,e])}function rN(e){let{callback:t,disabled:a}=e,n=nx(t),r=(0,N.useMemo)(()=>{if(a||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[a]);return(0,N.useEffect)(()=>()=>null==r?void 0:r.disconnect(),[r]),r}function rC(e){return new rn(n0(e),e)}function rk(e,t,a){void 0===t&&(t=rC);let[n,r]=(0,N.useState)(null);function s(){r(n=>{if(!e)return null;if(!1===e.isConnected){var r;return null!=(r=null!=n?n:a)?r:null}let s=t(e);return JSON.stringify(n)===JSON.stringify(s)?n:s})}let i=function(e){let{callback:t,disabled:a}=e,n=nx(t),r=(0,N.useMemo)(()=>{if(a||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,a]);return(0,N.useEffect)(()=>()=>null==r?void 0:r.disconnect(),[r]),r}({callback(t){if(e)for(let a of t){let{type:t,target:n}=a;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){s();break}}}}),l=rN({callback:s});return ng(()=>{s(),e?(null==l||l.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==i||i.disconnect())},[e]),n}let rD=[];function rM(e,t){void 0===t&&(t=[]);let a=(0,N.useRef)(null);return(0,N.useEffect)(()=>{a.current=null},t),(0,N.useEffect)(()=>{let t=e!==nI;t&&!a.current&&(a.current=e),!t&&a.current&&(a.current=null)},[e]),a.current?nD(e,a.current):nI}function rS(e){return(0,N.useMemo)(()=>e?function(e){let t=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:t,bottom:a,width:t,height:a}}(e):null,[e])}let r_=[],rE=[{sensor:rp,options:{}},{sensor:rd,options:{}}],rT={current:{}},rz={draggable:{measure:n1},droppable:{measure:n1,strategy:g.WhileDragging,frequency:x.Optimized},dragOverlay:{measure:n0}};class rR extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,a;return null!=(t=null==(a=this.get(e))?void 0:a.node.current)?t:void 0}}let rO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rR,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nZ},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rz,measureDroppableContainers:nZ,windowRect:null,measuringScheduled:!1},rF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nZ,draggableNodes:new Map,over:null,measureDroppableContainers:nZ},rA=(0,N.createContext)(rF),rP=(0,N.createContext)(rO);function rZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rR}}}function rW(e,t){switch(t.type){case c.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case c.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case c.DragEnd:case c.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case c.RegisterDroppable:{let{element:a}=t,{id:n}=a,r=new rR(e.droppable.containers);return r.set(n,a),{...e,droppable:{...e.droppable,containers:r}}}case c.SetDroppableDisabled:{let{id:a,key:n,disabled:r}=t,s=e.droppable.containers.get(a);if(!s||n!==s.key)return e;let i=new rR(e.droppable.containers);return i.set(a,{...s,disabled:r}),{...e,droppable:{...e.droppable,containers:i}}}case c.UnregisterDroppable:{let{id:a,key:n}=t,r=e.droppable.containers.get(a);if(!r||n!==r.key)return e;let s=new rR(e.droppable.containers);return s.delete(a),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function rL(e){let{disabled:t}=e,{active:a,activatorEvent:n,draggableNodes:r}=(0,N.useContext)(rA),s=nw(n),i=nw(null==a?void 0:a.id);return(0,N.useEffect)(()=>{if(!t&&!n&&s&&null!=i){if(!nM(s)||document.activeElement===s.target)return;let e=r.get(i);if(!e)return;let{activatorNode:t,node:a}=e;(t.current||a.current)&&requestAnimationFrame(()=>{for(let e of[t.current,a.current]){if(!e)continue;let t=e.matches(nE)?e:e.querySelector(nE);if(t){t.focus();break}}})}},[n,t,r,i,s]),null}let rI=(0,N.createContext)({...nI,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(y||(y={}));let rU=(0,N.memo)(function(e){var t,a,n,r,s,i;let{id:l,accessibility:o,autoScroll:u=!0,children:h,sensors:m=rE,collisionDetection:x=nH,measuring:v,modifiers:b,...w}=e,[j,k]=(0,N.useReducer)(rW,void 0,rZ),[D,M]=function(){let[e]=(0,N.useState)(()=>new Set),t=(0,N.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,N.useCallback)(t=>{let{type:a,event:n}=t;e.forEach(e=>{var t;return null==(t=e[a])?void 0:t.call(e,n)})},[e]),t]}(),[S,_]=(0,N.useState)(y.Uninitialized),E=S===y.Initialized,{draggable:{active:T,nodes:z,translate:R},droppable:{containers:O}}=j,F=null!=T?z.get(T):null,A=(0,N.useRef)({initial:null,translated:null}),P=(0,N.useMemo)(()=>{var e;return null!=T?{id:T,data:null!=(e=null==F?void 0:F.data)?e:rT,rect:A}:null},[T,F]),Z=(0,N.useRef)(null),[W,L]=(0,N.useState)(null),[I,U]=(0,N.useState)(null),Y=ny(w,Object.values(w)),$=nN("DndDescribedBy",l),q=(0,N.useMemo)(()=>O.getEnabled(),[O]),B=(0,N.useMemo)(()=>({draggable:{...rz.draggable,...null==v?void 0:v.draggable},droppable:{...rz.droppable,...null==v?void 0:v.droppable},dragOverlay:{...rz.dragOverlay,...null==v?void 0:v.dragOverlay}}),[null==v?void 0:v.draggable,null==v?void 0:v.droppable,null==v?void 0:v.dragOverlay]),{droppableRects:Q,measureDroppableContainers:V,measuringScheduled:K}=function(e,t){let{dragging:a,dependencies:n,config:r}=t,[s,i]=(0,N.useState)(null),{frequency:l,measure:o,strategy:c}=r,d=(0,N.useRef)(e),u=function(){switch(c){case g.Always:return!1;case g.BeforeDragging:return a;default:return!a}}(),h=ny(u),m=(0,N.useCallback)(function(e){void 0===e&&(e=[]),h.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),f=(0,N.useRef)(null),p=nv(t=>{if(u&&!a)return rw;if(!t||t===rw||d.current!==e||null!=s){let t=new Map;for(let a of e){if(!a)continue;if(s&&s.length>0&&!s.includes(a.id)&&a.rect.current){t.set(a.id,a.rect.current);continue}let e=a.node.current,n=e?new rn(o(e),e):null;a.rect.current=n,n&&t.set(a.id,n)}return t}return t},[e,s,a,u,o]);return(0,N.useEffect)(()=>{d.current=e},[e]),(0,N.useEffect)(()=>{u||m()},[a,u]),(0,N.useEffect)(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),(0,N.useEffect)(()=>{u||"number"!=typeof l||null!==f.current||(f.current=setTimeout(()=>{m(),f.current=null},l))},[l,u,m,...n]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:null!=s}}(q,{dragging:E,dependencies:[R.x,R.y],config:B.droppable}),H=function(e,t){let a=null!=t?e.get(t):void 0,n=a?a.node.current:null;return nv(e=>{var a;return null==t?null:null!=(a=null!=n?n:e)?a:null},[n,t])}(z,T),X=(0,N.useMemo)(()=>I?nS(I):null,[I]),G=function(){let e=(null==W?void 0:W.autoScrollEnabled)===!1,t="object"==typeof u?!1===u.enabled:!1===u,a=E&&!e&&!t;return"object"==typeof u?{...u,enabled:a}:{enabled:a}}(),J=rj(H,B.draggable.measure);!function(e){let{activeNode:t,measure:a,initialRect:n,config:r=!0}=e,s=(0,N.useRef)(!1),{x:i,y:l}="boolean"==typeof r?{x:r,y:r}:r;ng(()=>{if(!i&&!l||!t){s.current=!1;return}if(s.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let r=nX(a(e),n);if(i||(r.x=0),l||(r.y=0),s.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){let t=n4(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,i,l,n,a])}({activeNode:null!=T?z.get(T):null,config:G.layoutShiftCompensation,initialRect:J,measure:B.draggable.measure});let ee=rk(H,B.draggable.measure,J),et=rk(H?H.parentElement:null),ea=(0,N.useRef)({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),en=O.getNodeFor(null==(t=ea.current.over)?void 0:t.id),er=function(e){let{measure:t}=e,[a,n]=(0,N.useState)(null),r=rN({callback:(0,N.useCallback)(e=>{for(let{target:a}of e)if(nm(a)){n(e=>{let n=t(a);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[s,i]=nb((0,N.useCallback)(e=>{let a=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return nm(t)?t:e}(e);null==r||r.disconnect(),a&&(null==r||r.observe(a)),n(a?t(a):null)},[t,r]));return(0,N.useMemo)(()=>({nodeRef:s,rect:a,setRef:i}),[a,s,i])}({measure:B.dragOverlay.measure}),es=null!=(a=er.nodeRef.current)?a:H,ei=E?null!=(n=er.rect)?n:ee:null,el=!!(er.nodeRef.current&&er.rect),eo=function(e){let t=rj(e);return nX(e,t)}(el?null:ee),ec=rS(es?nu(es):null),ed=function(e){let t=(0,N.useRef)(e),a=nv(a=>e?a&&a!==rD&&e&&t.current&&e.parentNode===t.current.parentNode?a:n2(e):rD,[e]);return(0,N.useEffect)(()=>{t.current=e},[e]),a}(E?null!=en?en:H:null),eu=function(e,t){void 0===t&&(t=n0);let[a]=e,n=rS(a?nu(a):null),[r,s]=(0,N.useState)(r_);function i(){s(()=>e.length?e.map(e=>n7(e)?n:new rn(t(e),e)):r_)}let l=rN({callback:i});return ng(()=>{null==l||l.disconnect(),i(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),r}(ed),eh=function(e,t){let{transform:a,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),a):a}(b,{transform:{x:R.x-eo.x,y:R.y-eo.y,scaleX:1,scaleY:1},activatorEvent:I,active:P,activeNodeRect:ee,containerNodeRect:et,draggingNodeRect:ei,over:ea.current.over,overlayNodeRect:er.rect,scrollableAncestors:ed,scrollableAncestorRects:eu,windowRect:ec}),em=X?nk(X,R):null,ef=function(e){let[t,a]=(0,N.useState)(null),n=(0,N.useRef)(e),r=(0,N.useCallback)(e=>{let t=n5(e.target);t&&a(e=>e?(e.set(t,n8(t)),new Map(e)):null)},[]);return(0,N.useEffect)(()=>{let t=n.current;if(e!==t){s(t);let i=e.map(e=>{let t=n5(e);return t?(t.addEventListener("scroll",r,{passive:!0}),[t,n8(t)]):null}).filter(e=>null!=e);a(i.length?new Map(i):null),n.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{let t=n5(e);null==t||t.removeEventListener("scroll",r)})}},[r,e]),(0,N.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>nk(e,t),nI):rt(e):nI,[e,t])}(ed),ep=rM(ef),eg=rM(ef,[ee]),ex=nk(eh,ep),ey=ei?nG(ei,eh):null,ev=P&&ey?x({active:P,collisionRect:ey,droppableRects:Q,droppableContainers:q,pointerCoordinates:em}):null,eb=nB(ev,"id"),[ew,ej]=(0,N.useState)(null),eN=(s=el?eh:nk(eh,eg),i=null!=(r=null==ew?void 0:ew.rect)?r:null,{...s,scaleX:i&&ee?i.width/ee.width:1,scaleY:i&&ee?i.height/ee.height:1}),eC=(0,N.useRef)(null),ek=(0,N.useCallback)((e,t)=>{let{sensor:a,options:n}=t;if(null==Z.current)return;let r=z.get(Z.current);if(!r)return;let s=e.nativeEvent,i=new a({active:Z.current,activeNode:r,event:s,options:n,context:ea,onAbort(e){if(!z.get(e))return;let{onDragAbort:t}=Y.current,a={id:e};null==t||t(a),D({type:"onDragAbort",event:a})},onPending(e,t,a,n){if(!z.get(e))return;let{onDragPending:r}=Y.current,s={id:e,constraint:t,initialCoordinates:a,offset:n};null==r||r(s),D({type:"onDragPending",event:s})},onStart(e){let t=Z.current;if(null==t)return;let a=z.get(t);if(!a)return;let{onDragStart:n}=Y.current,r={activatorEvent:s,active:{id:t,data:a.data,rect:A}};(0,nl.unstable_batchedUpdates)(()=>{null==n||n(r),_(y.Initializing),k({type:c.DragStart,initialCoordinates:e,active:t}),D({type:"onDragStart",event:r}),L(eC.current),U(s)})},onMove(e){k({type:c.DragMove,coordinates:e})},onEnd:l(c.DragEnd),onCancel:l(c.DragCancel)});function l(e){return async function(){let{active:t,collisions:a,over:n,scrollAdjustedTranslate:r}=ea.current,i=null;if(t&&r){let{cancelDrop:l}=Y.current;i={activatorEvent:s,active:t,collisions:a,delta:r,over:n},e===c.DragEnd&&"function"==typeof l&&await Promise.resolve(l(i))&&(e=c.DragCancel)}Z.current=null,(0,nl.unstable_batchedUpdates)(()=>{k({type:e}),_(y.Uninitialized),ej(null),L(null),U(null),eC.current=null;let t=e===c.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=Y.current[t];null==e||e(i),D({type:t,event:i})}})}}eC.current=i},[z]),eD=(0,N.useCallback)((e,t)=>(a,n)=>{let r=a.nativeEvent,s=z.get(n);null!==Z.current||!s||r.dndKit||r.defaultPrevented||!0!==e(a,t.options,{active:s})||(r.dndKit={capturedBy:t.sensor},Z.current=n,ek(a,t))},[z,ek]),eM=(0,N.useMemo)(()=>m.reduce((e,t)=>{let{sensor:a}=t;return[...e,...a.activators.map(e=>({eventName:e.eventName,handler:eD(e.handler,t)}))]},[]),[m,eD]);(0,N.useEffect)(()=>{if(!no)return;let e=m.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},m.map(e=>{let{sensor:t}=e;return t})),ng(()=>{ee&&S===y.Initializing&&_(y.Initialized)},[ee,S]),(0,N.useEffect)(()=>{let{onDragMove:e}=Y.current,{active:t,activatorEvent:a,collisions:n,over:r}=ea.current;if(!t||!a)return;let s={active:t,activatorEvent:a,collisions:n,delta:{x:ex.x,y:ex.y},over:r};(0,nl.unstable_batchedUpdates)(()=>{null==e||e(s),D({type:"onDragMove",event:s})})},[ex.x,ex.y]),(0,N.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:a,droppableContainers:n,scrollAdjustedTranslate:r}=ea.current;if(!e||null==Z.current||!t||!r)return;let{onDragOver:s}=Y.current,i=n.get(eb),l=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,o={active:e,activatorEvent:t,collisions:a,delta:{x:r.x,y:r.y},over:l};(0,nl.unstable_batchedUpdates)(()=>{ej(l),null==s||s(o),D({type:"onDragOver",event:o})})},[eb]),ng(()=>{ea.current={activatorEvent:I,active:P,activeNode:H,collisionRect:ey,collisions:ev,droppableRects:Q,draggableNodes:z,draggingNode:es,draggingNodeRect:ei,droppableContainers:O,over:ew,scrollableAncestors:ed,scrollAdjustedTranslate:ex},A.current={initial:ei,translated:ey}},[P,H,ev,ey,z,es,ei,Q,O,ew,ed,ex]),function(e){let{acceleration:t,activator:a=f.Pointer,canScroll:n,draggingRect:r,enabled:s,interval:i=5,order:l=p.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:m}=e,g=function(e){let{delta:t,disabled:a}=e,n=nw(t);return nv(e=>{if(a||!n||!e)return rb;let r={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[d.Backward]:e.x[d.Backward]||-1===r.x,[d.Forward]:e.x[d.Forward]||1===r.x},y:{[d.Backward]:e.y[d.Backward]||-1===r.y,[d.Forward]:e.y[d.Forward]||1===r.y}}},[a,t,n])}({delta:h,disabled:!s}),[x,y]=function(){let e=(0,N.useRef)(null);return[(0,N.useCallback)((t,a)=>{e.current=setInterval(t,a)},[]),(0,N.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),v=(0,N.useRef)({x:0,y:0}),b=(0,N.useRef)({x:0,y:0}),w=(0,N.useMemo)(()=>{switch(a){case f.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case f.DraggableRect:return r}},[a,r,o]),j=(0,N.useRef)(null),C=(0,N.useCallback)(()=>{let e=j.current;if(!e)return;let t=v.current.x*b.current.x,a=v.current.y*b.current.y;e.scrollBy(t,a)},[]),k=(0,N.useMemo)(()=>l===p.TreeOrder?[...c].reverse():c,[l,c]);(0,N.useEffect)(()=>{if(!s||!c.length||!w){y();return}for(let e of k){if((null==n?void 0:n(e))===!1)continue;let a=u[c.indexOf(e)];if(!a)continue;let{direction:r,speed:s}=function(e,t,a,n,r){let{top:s,left:i,right:l,bottom:o}=a;void 0===n&&(n=10),void 0===r&&(r=re);let{isTop:c,isBottom:u,isLeft:h,isRight:m}=n9(e),f={x:0,y:0},p={x:0,y:0},g={height:t.height*r.y,width:t.width*r.x};return!c&&s<=t.top+g.height?(f.y=d.Backward,p.y=n*Math.abs((t.top+g.height-s)/g.height)):!u&&o>=t.bottom-g.height&&(f.y=d.Forward,p.y=n*Math.abs((t.bottom-g.height-o)/g.height)),!m&&l>=t.right-g.width?(f.x=d.Forward,p.x=n*Math.abs((t.right-g.width-l)/g.width)):!h&&i<=t.left+g.width&&(f.x=d.Backward,p.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:f,speed:p}}(e,a,w,t,m);for(let e of["x","y"])g[e][r[e]]||(s[e]=0,r[e]=0);if(s.x>0||s.y>0){y(),j.current=e,x(C,i),v.current=s,b.current=r;return}}v.current={x:0,y:0},b.current={x:0,y:0},y()},[t,C,n,y,s,i,JSON.stringify(w),JSON.stringify(g),x,c,k,u,JSON.stringify(m)])}({...G,delta:R,draggingRect:ey,pointerCoordinates:em,scrollableAncestors:ed,scrollableAncestorRects:eu});let eS=(0,N.useMemo)(()=>({active:P,activeNode:H,activeNodeRect:ee,activatorEvent:I,collisions:ev,containerNodeRect:et,dragOverlay:er,draggableNodes:z,droppableContainers:O,droppableRects:Q,over:ew,measureDroppableContainers:V,scrollableAncestors:ed,scrollableAncestorRects:eu,measuringConfiguration:B,measuringScheduled:K,windowRect:ec}),[P,H,ee,I,ev,et,er,z,O,Q,ew,V,ed,eu,B,K,ec]),e_=(0,N.useMemo)(()=>({activatorEvent:I,activators:eM,active:P,activeNodeRect:ee,ariaDescribedById:{draggable:$},dispatch:k,draggableNodes:z,over:ew,measureDroppableContainers:V}),[I,eM,P,ee,k,$,z,ew,V]);return C().createElement(nO.Provider,{value:M},C().createElement(rA.Provider,{value:e_},C().createElement(rP.Provider,{value:eS},C().createElement(rI.Provider,{value:eN},h)),C().createElement(rL,{disabled:(null==o?void 0:o.restoreFocus)===!1})),C().createElement(nP,{...o,hiddenTextDescribedById:$}))}),rY=(0,N.createContext)(null),r$="button",rq={timeout:25};function rB(e,t,a){let n=e.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}function rQ(e){return null!==e&&e>=0}n={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:a}=e,r={},{styles:s,className:i}=n;if(null!=s&&s.active)for(let[e,a]of Object.entries(s.active))void 0!==a&&(r[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,a));if(null!=s&&s.dragOverlay)for(let[e,t]of Object.entries(s.dragOverlay))void 0!==t&&a.node.style.setProperty(e,t);return null!=i&&i.active&&t.node.classList.add(i.active),null!=i&&i.dragOverlay&&a.node.classList.add(i.dragOverlay),function(){for(let[e,a]of Object.entries(r))t.node.style.setProperty(e,a);null!=i&&i.active&&t.node.classList.remove(i.active)}};let rV=e=>{let{rects:t,activeIndex:a,overIndex:n,index:r}=e,s=rB(t,n,a),i=t[r],l=s[r];return l&&i?{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}:null},rK={scaleX:1,scaleY:1},rH=e=>{var t;let{activeIndex:a,activeNodeRect:n,index:r,rects:s,overIndex:i}=e,l=null!=(t=s[a])?t:n;if(!l)return null;if(r===a){let e=s[i];return e?{x:0,y:a<i?e.top+e.height-(l.top+l.height):e.top-l.top,...rK}:null}let o=function(e,t,a){let n=e[t],r=e[t-1],s=e[t+1];return n?a<t?r?n.top-(r.top+r.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):r?n.top-(r.top+r.height):0:0}(s,r,a);return r>a&&r<=i?{x:0,y:-l.height-o,...rK}:r<a&&r>=i?{x:0,y:l.height+o,...rK}:{x:0,y:0,...rK}},rX="Sortable",rG=C().createContext({activeIndex:-1,containerId:rX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rV,disabled:{draggable:!1,droppable:!1}});function rJ(e){let{children:t,id:a,items:n,strategy:r=rV,disabled:s=!1}=e,{active:i,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:d}=(0,N.useContext)(rP),u=nN(rX,a),h=null!==l.rect,m=(0,N.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),f=null!=i,p=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,x=(0,N.useRef)(m),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(m,x.current),v=-1!==g&&-1===p||y,b="boolean"==typeof s?{draggable:s,droppable:s}:s;ng(()=>{y&&f&&d(m)},[y,m,f,d]),(0,N.useEffect)(()=>{x.current=m},[m]);let w=(0,N.useMemo)(()=>({activeIndex:p,containerId:u,disabled:b,disableTransforms:v,items:m,overIndex:g,useDragOverlay:h,sortedRects:m.reduce((e,t,a)=>{let n=o.get(t);return n&&(e[a]=n),e},Array(m.length)),strategy:r}),[p,u,b.draggable,b.droppable,v,m,g,o,h,r]);return C().createElement(rG.Provider,{value:w},t)}let r0=e=>{let{id:t,items:a,activeIndex:n,overIndex:r}=e;return rB(a,n,r).indexOf(t)},r1=e=>{let{containerId:t,isSorting:a,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:o,transition:c}=e;return!!c&&!!n&&(l===s||r!==i)&&(!!a||i!==r&&t===o)},r2={duration:200,easing:"ease"},r4="transform",r5=n_.Transition.toString({property:r4,duration:0,easing:"linear"}),r3={roleDescription:"sortable"};function r6(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let r8=[h.Down,h.Right,h.Up,h.Left],r7=(e,t)=>{let{context:{active:a,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=t;if(r8.includes(e.code)){if(e.preventDefault(),!a||!n)return;let t=[];s.getEnabled().forEach(a=>{if(!a||null!=a&&a.disabled)return;let s=r.get(a.id);if(s)switch(e.code){case h.Down:n.top<s.top&&t.push(a);break;case h.Up:n.top>s.top&&t.push(a);break;case h.Left:n.left>s.left&&t.push(a);break;case h.Right:n.left<s.left&&t.push(a)}});let o=nK({active:a,collisionRect:n,droppableRects:r,droppableContainers:t,pointerCoordinates:null}),c=nB(o,"id");if(c===(null==i?void 0:i.id)&&o.length>1&&(c=o[1].id),null!=c){let e=s.get(a.id),t=s.get(c),i=t?r.get(t.id):null,o=null==t?void 0:t.node.current;if(o&&i&&e&&t){let a=n2(o).some((e,t)=>l[t]!==e),r=r9(e,t),s=function(e,t){return!!(r6(e)&&r6(t)&&r9(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=a||!r?{x:0,y:0}:{x:s?n.width-i.width:0,y:s?n.height-i.height:0},d={x:i.left,y:i.top};return c.x&&c.y?d:nD(d,c)}}}};function r9(e,t){return!!(r6(e)&&r6(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var se=a(95084);let st=["\uD83C\uDFE0","\uD83D\uDE97","\uD83C\uDF54","\uD83D\uDC8A","\uD83D\uDCDA","\uD83C\uDFAC","","\uD83D\uDC55","","\uD83D\uDCF1","\uD83C\uDFB5","\uD83C\uDFCB","\uD83C\uDFA8","\uD83D\uDC15","\uD83C\uDF31","\uD83D\uDD27","\uD83C\uDF81","","\uD83C\uDFE6","\uD83D\uDCBC"],sa=["#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#EC4899","#F43F5E","#84CC16","#10B981","#14B8A6","#6366F1","#8B5CF6","#A855F7"];function sn({isOpen:e,onClose:t,className:a}){let n=(0,D.NL)(),r=(0,se.PM)(),s=(0,se.cM)(),[i,l]=C().useState(""),[o,c]=C().useState(!1),[d,u]=C().useState(null),[h,m]=C().useState("hierarchy"),[f,p]=C().useState("all"),[g,x]=C().useState([]),[y,v]=C().useState(new Set),[b,w]=C().useState(!1),[N,k]=C().useState(null),[E,T]=C().useState(!1),[z,R]=C().useState(!1),[O,A]=C().useState(null),[Z,W]=C().useState(!1),[L,I]=C().useState(null),{data:U=[],isLoading:Y}=(0,M.a)({queryKey:["categories"],queryFn:a0.Y.getCategories}),{data:$=[],isLoading:q}=(0,M.a)({queryKey:["category-stats"],queryFn:()=>a0.Y.getCategoryStats(),enabled:"stats"===h}),{data:B=[],isLoading:Q}=(0,M.a)({queryKey:["category-spending"],queryFn:()=>a0.Y.getCategorySpending(),enabled:"stats"===h}),V=(0,S.D)({mutationFn:a0.Y.createCategory,onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["category-stats"]}),r("Category Created","Category created successfully"),c(!1)},onError:e=>{s("Create Failed",e.message||"Failed to create category")}}),K=(0,S.D)({mutationFn:({id:e,updates:t})=>a0.Y.updateCategory(e,t),onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["category-stats"]}),r("Category Updated","Category updated successfully"),u(null)},onError:e=>{s("Update Failed",e.message||"Failed to update category")}}),H=(0,S.D)({mutationFn:a0.Y.deleteCategory,onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["category-stats"]}),r("Category Deleted","Category deleted successfully")},onError:e=>{s("Delete Failed",e.message||"Failed to delete category")}}),X=(0,S.D)({mutationFn:a0.Y.bulkUpdateCategories,onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),r("Categories Updated","Category hierarchy updated successfully")},onError:e=>{s("Update Failed",e.message||"Failed to update categories")}}),J=(0,S.D)({mutationFn:({sourceId:e,targetId:t})=>a0.Y.mergeCategories(e,t),onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["category-stats"]}),r("Categories Merged","Categories merged successfully"),R(!1),A(null)},onError:e=>{s("Merge Failed",e.message||"Failed to merge categories")}});nL(nW(rp),nW(rd,{coordinateGetter:r7}));let ee=e=>{let t=new Map,a=[];return e.forEach(e=>{t.set(e.id,{...e,children:[],level:0,isExpanded:y.has(e.id)})}),e.forEach(e=>{let n=t.get(e.id);if(e.parent_id&&t.has(e.parent_id)){let a=t.get(e.parent_id);a.children.push(n),n.level=(a.level||0)+1}else a.push(n)}),a},et=e=>{let t=[],a=e=>{t.push(e),e.isExpanded&&e.children&&e.children.forEach(a)};return e.forEach(a),t},ea=C().useMemo(()=>{let e=U.filter(e=>{let t=e.name.toLowerCase().includes(i.toLowerCase()),a="all"===f||"system"===f&&e.is_system||"custom"===f&&!e.is_system;return t&&a});return"hierarchy"===h?et(ee(e)):e.map(e=>({...e,level:0}))},[U,i,f,h,y]),en=async()=>{if(0!==g.length){if(g.filter(e=>U.find(t=>t.id===e)?.is_system).length>0){s("Cannot Delete","System categories cannot be deleted");return}if(confirm(`Delete ${g.length} categories? This cannot be undone.`))try{await Promise.all(g.map(e=>a0.Y.deleteCategory(e))),n.invalidateQueries({queryKey:["categories"]}),r("Categories Deleted",`${g.length} categories deleted`),x([])}catch(e){s("Delete Failed",e.message||"Failed to delete categories")}}},er=async e=>{try{let t=await a0.Y.exportCategories(e),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=`categories.${e}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),r("Export Complete",`Categories exported as ${e.toUpperCase()}`)}catch(e){s("Export Failed",e.message||"Failed to export categories")}},es=async e=>{if(e.is_system){s("Cannot Delete","System categories cannot be deleted");return}window.confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`)&&H.mutate(e.id)},ei=async e=>{let t={...e,name:`${e.name} (Copy)`,is_system:!1,parent_id:e.parent_id};delete t.id,delete t.created_at,delete t.updated_at,V.mutate(t)},el=e=>{A(e),R(!0)},eo=e=>{I(e),W(!0)};return e?(0,j.jsxs)(aG,{isOpen:e,onClose:t,title:"Category Management",description:"Create and manage categories for your transactions",size:"xl",className:a,children:[(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(G.Ph,{value:h,onValueChange:e=>m(e),children:[j.jsx(G.i4,{className:"w-[140px]",children:j.jsx(G.ki,{})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"hierarchy",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(a5,{className:"h-4 w-4"}),"Hierarchy"]})}),j.jsx(G.Ql,{value:"grid",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(aZ,{className:"h-4 w-4"}),"Grid"]})}),j.jsx(G.Ql,{value:"stats",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(a3.Z,{className:"h-4 w-4"}),"Statistics"]})}),j.jsx(G.Ql,{value:"rules",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(a6,{className:"h-4 w-4"}),"Rules"]})})]})]}),(0,j.jsxs)(G.Ph,{value:f,onValueChange:e=>p(e),children:[j.jsx(G.i4,{className:"w-[120px]",children:j.jsx(G.ki,{})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"all",children:"All"}),j.jsx(G.Ql,{value:"system",children:"System"}),j.jsx(G.Ql,{value:"custom",children:"Custom"})]})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>er("csv"),children:[j.jsx(a8.Z,{className:"h-4 w-4 mr-1"}),"Export"]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>T(!0),children:[j.jsx(a7.Z,{className:"h-4 w-4 mr-1"}),"Import"]}),(0,j.jsxs)(_.z,{onClick:()=>c(!0),size:"sm",children:[j.jsx(aX.Z,{className:"h-4 w-4 mr-1"}),"New Category"]})]})]}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,j.jsxs)("div",{className:"relative max-w-sm",children:[j.jsx(P.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-500"}),j.jsx(F.I,{placeholder:"Search categories...",value:i,onChange:e=>l(e.target.value),className:"pl-10"})]}),g.length>0&&(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(aC.C,{variant:"outline",children:[g.length," selected"]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:en,disabled:H.isPending,children:[j.jsx(a$.Z,{className:"h-4 w-4 mr-1"}),"Delete Selected"]}),j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>x([]),children:"Clear"})]})]}),j.jsx("div",{className:"h-[600px] overflow-hidden",children:(0,j.jsxs)(aJ.x,{className:"h-full",children:["hierarchy"===h&&j.jsx(so,{categories:ea,selectedCategories:g,onSelectionChange:x,onEdit:u,onDelete:es,onCopy:ei,onMerge:el,onPreview:eo,onToggleExpand:e=>{let t=new Set(y);t.has(e)?t.delete(e):t.add(e),v(t)},onDragEnd:e=>{let{active:t,over:a}=e;if(!a||t.id===a.id)return;let n=ea.findIndex(e=>e.id===t.id),r=ea.findIndex(e=>e.id===a.id);if(-1===n||-1===r)return;let s=rB(ea,n,r).map((e,t)=>({id:e.id,sort_order:t}));X.mutate(s)},isLoading:Y}),"grid"===h&&j.jsx(sc,{categories:ea,selectedCategories:g,onSelectionChange:x,onEdit:u,onDelete:es,onCopy:ei,onMerge:el,onPreview:eo,isLoading:Y}),"stats"===h&&j.jsx(sd,{categoryStats:$,categorySpending:B,searchTerm:i,isLoading:q||Q}),"rules"===h&&j.jsx(su,{categories:ea,onManageRules:e=>{k(e),w(!0)},isLoading:Y})]})}),0===ea.length&&!Y&&(0,j.jsxs)("div",{className:"text-center py-12",children:[j.jsx(aZ,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),j.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No categories found"}),j.jsx("p",{className:"text-neutral-600 mb-4",children:i?"Try adjusting your search term.":"Create your first category to get started."}),!i&&(0,j.jsxs)(_.z,{onClick:()=>c(!0),children:[j.jsx(aX.Z,{className:"h-4 w-4 mr-1"}),"Create Category"]})]})]}),j.jsx(ss,{isOpen:o||!!d,onClose:()=>{c(!1),u(null)},category:d,categories:U,onSubmit:e=>{d?K.mutate({id:d.id,updates:e}):V.mutate({...e,is_system:!1})},isLoading:V.isPending||K.isPending}),j.jsx(sh,{isOpen:b,onClose:()=>{w(!1),k(null)},category:N}),j.jsx(sm,{isOpen:E,onClose:()=>T(!1),onImport:async(e,t)=>{try{let a=await a0.Y.importCategories(e,t);n.invalidateQueries({queryKey:["categories"]}),r("Import Complete",`Imported ${a.imported_count} categories`),T(!1)}catch(e){s("Import Failed",e.message||"Failed to import categories")}}}),j.jsx(sf,{isOpen:z,onClose:()=>{R(!1),A(null)},sourceCategory:O,categories:U.filter(e=>e.id!==O?.id),onMerge:e=>{O&&J.mutate({sourceId:O.id,targetId:e})},isLoading:J.isPending}),j.jsx(sp,{isOpen:Z,onClose:()=>{W(!1),I(null)},category:L})]}):null}function sr({category:e,isSelected:t,onSelect:a,onEdit:n,onDelete:r,onCopy:s,onMerge:i,onPreview:l,onToggleExpand:o}){let{attributes:d,listeners:u,setNodeRef:h,transform:m,transition:f}=function(e){var t,a;let{animateLayoutChanges:n=r1,attributes:r,disabled:s,data:i,getNewIndex:l=r0,id:o,strategy:d,resizeObserverConfig:u,transition:h=r2}=e,{items:m,containerId:f,activeIndex:p,disabled:g,disableTransforms:x,sortedRects:y,overIndex:v,useDragOverlay:b,strategy:w}=(0,N.useContext)(rG),j="boolean"==typeof s?{draggable:s,droppable:!1}:{draggable:null!=(t=null==s?void 0:s.draggable)?t:g.draggable,droppable:null!=(a=null==s?void 0:s.droppable)?a:g.droppable},C=m.indexOf(o),k=(0,N.useMemo)(()=>({sortable:{containerId:f,index:C,items:m},...i}),[f,i,C,m]),D=(0,N.useMemo)(()=>m.slice(m.indexOf(o)),[m,o]),{rect:M,node:S,isOver:_,setNodeRef:E}=function(e){let{data:t,disabled:a=!1,id:n,resizeObserverConfig:r}=e,s=nN("Droppable"),{active:i,dispatch:l,over:o,measureDroppableContainers:d}=(0,N.useContext)(rA),u=(0,N.useRef)({disabled:a}),h=(0,N.useRef)(!1),m=(0,N.useRef)(null),f=(0,N.useRef)(null),{disabled:p,updateMeasurementsFor:g,timeout:x}={...rq,...r},y=ny(null!=g?g:n),v=rN({callback:(0,N.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),f.current=null},x)},[x]),disabled:p||!i}),[b,w]=nb((0,N.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))},[v])),j=ny(t);return(0,N.useEffect)(()=>{v&&b.current&&(v.disconnect(),h.current=!1,v.observe(b.current))},[b,v]),(0,N.useEffect)(()=>(l({type:c.RegisterDroppable,element:{id:n,key:s,disabled:a,node:b,rect:m,data:j}}),()=>l({type:c.UnregisterDroppable,key:s,id:n})),[n]),(0,N.useEffect)(()=>{a!==u.current.disabled&&(l({type:c.SetDroppableDisabled,id:n,key:s,disabled:a}),u.current.disabled=a)},[n,s,a,l]),{active:i,rect:m,isOver:(null==o?void 0:o.id)===n,node:b,over:o,setNodeRef:w}}({id:o,data:k,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...u}}),{active:T,activatorEvent:z,activeNodeRect:R,attributes:O,setNodeRef:F,listeners:A,isDragging:P,over:Z,setActivatorNodeRef:W,transform:L}=function(e){let{id:t,data:a,disabled:n=!1,attributes:r}=e,s=nN("Draggable"),{activators:i,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:h}=(0,N.useContext)(rA),{role:m=r$,roleDescription:f="draggable",tabIndex:p=0}=null!=r?r:{},g=(null==o?void 0:o.id)===t,x=(0,N.useContext)(g?rI:rY),[y,v]=nb(),[b,w]=nb(),j=(0,N.useMemo)(()=>i.reduce((e,a)=>{let{eventName:n,handler:r}=a;return e[n]=e=>{r(e,t)},e},{}),[i,t]),C=ny(a);return ng(()=>(u.set(t,{id:t,key:s,node:y,activatorNode:b,data:C}),()=>{let e=u.get(t);e&&e.key===s&&u.delete(t)}),[u,t]),{active:o,activatorEvent:l,activeNodeRect:c,attributes:(0,N.useMemo)(()=>({role:m,tabIndex:p,"aria-disabled":n,"aria-pressed":!!g&&m===r$||void 0,"aria-roledescription":f,"aria-describedby":d.draggable}),[n,m,p,g,f,d.draggable]),isDragging:g,listeners:n?void 0:j,node:y,over:h,setNodeRef:v,setActivatorNodeRef:w,transform:x}}({id:o,data:k,attributes:{...r3,...r},disabled:j.draggable}),I=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,N.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(E,F),U=!!T,Y=U&&!x&&rQ(p)&&rQ(v),$=!b&&P,q=$&&Y?L:null,B=Y?null!=q?q:(null!=d?d:w)({rects:y,activeNodeRect:R,activeIndex:p,overIndex:v,index:C}):null,Q=rQ(p)&&rQ(v)?l({id:o,items:m,activeIndex:p,overIndex:v}):C,V=null==T?void 0:T.id,K=(0,N.useRef)({activeId:V,items:m,newIndex:Q,containerId:f}),H=m!==K.current.items,X=n({active:T,containerId:f,isDragging:P,isSorting:U,id:o,index:C,items:m,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:h,wasDragging:null!=K.current.activeId}),G=function(e){let{disabled:t,index:a,node:n,rect:r}=e,[s,i]=(0,N.useState)(null),l=(0,N.useRef)(a);return ng(()=>{if(!t&&a!==l.current&&n.current){let e=r.current;if(e){let t=n0(n.current,{ignoreTransform:!0}),a={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(a.x||a.y)&&i(a)}}a!==l.current&&(l.current=a)},[t,a,n,r]),(0,N.useEffect)(()=>{s&&i(null)},[s]),s}({disabled:!X,index:C,node:S,rect:M});return(0,N.useEffect)(()=>{U&&K.current.newIndex!==Q&&(K.current.newIndex=Q),f!==K.current.containerId&&(K.current.containerId=f),m!==K.current.items&&(K.current.items=m)},[U,Q,f,m]),(0,N.useEffect)(()=>{if(V===K.current.activeId)return;if(null!=V&&null==K.current.activeId){K.current.activeId=V;return}let e=setTimeout(()=>{K.current.activeId=V},50);return()=>clearTimeout(e)},[V]),{active:T,activeIndex:p,attributes:O,data:k,rect:M,index:C,newIndex:Q,items:m,isOver:_,isSorting:U,isDragging:P,listeners:A,node:S,overIndex:v,over:Z,setNodeRef:I,setActivatorNodeRef:W,setDroppableNodeRef:E,setDraggableNodeRef:F,transform:null!=G?G:B,transition:G||H&&K.current.newIndex===C?r5:(!$||nM(z))&&h&&(U||X)?n_.Transition.toString({...h,property:r4}):void 0}}({id:e.id}),p={transform:n_.Transform.toString(m),transition:f},g=e.children&&e.children.length>0,x=24*(e.level||0);return(0,j.jsxs)("div",{ref:h,style:p,className:(0,K.cn)("flex items-center gap-3 p-3 rounded-lg border transition-all",t?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"),children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",style:{paddingLeft:x},children:[j.jsx(aR.X,{checked:t,onChange:t=>a(e.id,t.target.checked)}),j.jsx("div",{...d,...u,className:"cursor-grab hover:cursor-grabbing",children:j.jsx(a9,{className:"h-4 w-4 text-neutral-400"})}),g&&o&&j.jsx("button",{onClick:()=>o(e.id),className:"p-1 hover:bg-neutral-100 rounded",children:e.isExpanded?j.jsx(I.Z,{className:"h-4 w-4"}):j.jsx(Q.Z,{className:"h-4 w-4"})}),j.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center text-sm",style:{backgroundColor:e.color||"#6B7280"},children:e.icon||si(e.type)})]}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx("h3",{className:"font-medium text-neutral-900 truncate",children:e.name}),j.jsx(aC.C,{variant:sl(e.type),className:"text-xs",children:e.type}),e.is_system&&j.jsx(aC.C,{variant:"outline",className:"text-xs",children:"System"})]}),e.keywords&&e.keywords.length>0&&(0,j.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.keywords.slice(0,3).map(e=>j.jsx(aC.C,{variant:"outline",className:"text-xs",children:e},e)),e.keywords.length>3&&(0,j.jsxs)(aC.C,{variant:"outline",className:"text-xs",children:["+",e.keywords.length-3," more"]})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[j.jsx(aO.u,{content:"Preview transactions",children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>l(e),className:"h-8 w-8 p-0",children:j.jsx(ne.Z,{className:"h-4 w-4"})})}),j.jsx(aO.u,{content:"Copy category",children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>s(e),className:"h-8 w-8 p-0",children:j.jsx(aY.Z,{className:"h-4 w-4"})})}),j.jsx(aO.u,{content:"Edit category",children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>n(e),className:"h-8 w-8 p-0",children:j.jsx(aU.Z,{className:"h-4 w-4"})})}),!e.is_system&&(0,j.jsxs)(j.Fragment,{children:[j.jsx(aO.u,{content:"Merge category",children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>i(e),className:"h-8 w-8 p-0",children:j.jsx(nt,{className:"h-4 w-4"})})}),j.jsx(aO.u,{content:"Delete category",children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"h-8 w-8 p-0 text-error-600 hover:text-error-700 hover:bg-error-50",children:j.jsx(a$.Z,{className:"h-4 w-4"})})})]})]})]})}function ss({isOpen:e,onClose:t,category:a,categories:n,onSubmit:r,isLoading:s}){let[i,l]=C().useState({name:"",type:"expense",icon:"",color:"#6B7280",keywords:[],confidence_threshold:.8}),[o,c]=C().useState(""),[d,u]=C().useState(!1),[h,m]=C().useState(!1),f=()=>{o.trim()&&!i.keywords.includes(o.trim())&&(l(e=>({...e,keywords:[...e.keywords,o.trim()]})),c(""))},p=e=>{l(t=>({...t,keywords:t.keywords.filter(t=>t!==e)}))},g=n.filter(e=>e.id!==a?.id&&!e.parent_id&&e.type===i.type);return j.jsx(aG,{isOpen:e,onClose:t,title:a?"Edit Category":"Create New Category",description:"Categories help organize your transactions for better financial insights",size:"lg",children:(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.name.trim()&&r(i)},className:"space-y-6",children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[j.jsx(X._,{htmlFor:"name",children:"Category Name *"}),j.jsx(F.I,{id:"name",value:i.name,onChange:e=>l(t=>({...t,name:e.target.value})),placeholder:"Enter category name",required:!0})]}),(0,j.jsxs)("div",{children:[j.jsx(X._,{htmlFor:"type",children:"Type *"}),(0,j.jsxs)(G.Ph,{value:i.type,onValueChange:e=>l(t=>({...t,type:e})),children:[j.jsx(G.i4,{children:j.jsx(G.ki,{})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"income",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(na.Z,{className:"h-4 w-4 text-success-600"}),"Income"]})}),j.jsx(G.Ql,{value:"expense",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(nn.Z,{className:"h-4 w-4 text-error-600"}),"Expense"]})}),j.jsx(G.Ql,{value:"transfer",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(nr.Z,{className:"h-4 w-4 text-info-600"}),"Transfer"]})})]})]})]})]}),g.length>0&&(0,j.jsxs)("div",{children:[j.jsx(X._,{htmlFor:"parent",children:"Parent Category"}),(0,j.jsxs)(G.Ph,{value:i.parent_id||"none",onValueChange:e=>l(t=>({...t,parent_id:"none"===e?void 0:e})),children:[j.jsx(G.i4,{children:j.jsx(G.ki,{placeholder:"Select parent category"})}),(0,j.jsxs)(G.Bw,{children:[j.jsx(G.Ql,{value:"none",children:"No parent (root category)"}),g.map(e=>j.jsx(G.Ql,{value:e.id,children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-sm",style:{color:e.color},children:e.icon||si(e.type)}),e.name]})},e.id))]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[j.jsx(X._,{children:"Icon"}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(_.z,{type:"button",variant:"outline",onClick:()=>u(!d),className:"w-12 h-12 p-0",children:i.icon?j.jsx("span",{className:"text-lg",children:i.icon}):j.jsx(ns,{className:"h-5 w-5"})}),d&&j.jsx("div",{className:"absolute z-10 mt-2 p-3 bg-white border rounded-lg shadow-lg grid grid-cols-5 gap-2",children:st.map(e=>j.jsx("button",{type:"button",onClick:()=>{l(t=>({...t,icon:e})),u(!1)},className:"w-8 h-8 text-lg hover:bg-neutral-100 rounded",children:e},e))})]})]}),(0,j.jsxs)("div",{children:[j.jsx(X._,{children:"Color"}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[j.jsx(_.z,{type:"button",variant:"outline",onClick:()=>m(!h),className:"w-12 h-12 p-0",style:{backgroundColor:i.color},children:j.jsx(ni,{className:"h-5 w-5 text-white"})}),h&&j.jsx("div",{className:"absolute z-10 mt-2 p-3 bg-white border rounded-lg shadow-lg grid grid-cols-5 gap-2",children:sa.map(e=>j.jsx("button",{type:"button",onClick:()=>{l(t=>({...t,color:e})),m(!1)},className:"w-8 h-8 rounded border-2 border-neutral-200",style:{backgroundColor:e}},e))})]})]})]}),(0,j.jsxs)("div",{children:[j.jsx(X._,{children:"Keywords (for auto-categorization)"}),(0,j.jsxs)("div",{className:"flex gap-2 mb-2",children:[j.jsx(F.I,{value:o,onChange:e=>c(e.target.value),placeholder:"Add keyword",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())}}),j.jsx(_.z,{type:"button",onClick:f,variant:"outline",children:"Add"})]}),j.jsx("div",{className:"flex flex-wrap gap-1",children:i.keywords.map(e=>(0,j.jsxs)(aC.C,{variant:"outline",className:"flex items-center gap-1",children:[e,j.jsx("button",{type:"button",onClick:()=>p(e),className:"ml-1 hover:bg-neutral-200 rounded p-0.5",children:j.jsx(Z.Z,{className:"h-3 w-3"})})]},e))})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(X._,{htmlFor:"confidence",children:["Confidence Threshold (",(100*i.confidence_threshold).toFixed(0),"%)"]}),j.jsx("input",{id:"confidence",type:"range",min:"0.1",max:"1",step:"0.1",value:i.confidence_threshold,onChange:e=>l(t=>({...t,confidence_threshold:parseFloat(e.target.value)})),className:"w-full"}),j.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Minimum confidence level for automatic categorization"})]}),(0,j.jsxs)("div",{className:"flex justify-end gap-2",children:[j.jsx(_.z,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,j.jsxs)(_.z,{type:"submit",disabled:s,children:[s?"Saving...":a?"Update":"Create"," Category"]})]})]})})}let si=e=>{switch(e){case"income":return j.jsx(na.Z,{className:"h-4 w-4 text-success-600"});case"expense":return j.jsx(nn.Z,{className:"h-4 w-4 text-error-600"});case"transfer":return j.jsx(nr.Z,{className:"h-4 w-4 text-info-600"});default:return j.jsx(aZ,{className:"h-4 w-4 text-neutral-600"})}},sl=e=>{switch(e){case"income":return"success";case"expense":return"destructive";case"transfer":return"default";default:return"secondary"}};function so({categories:e,selectedCategories:t,onSelectionChange:a,onEdit:n,onDelete:r,onCopy:s,onMerge:i,onPreview:l,onToggleExpand:o,onDragEnd:c,isLoading:d}){let u=nL(nW(rp),nW(rd,{coordinateGetter:r7}));return d?j.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>j.jsx("div",{className:"h-16 bg-neutral-100 animate-pulse rounded-lg"},t))}):j.jsx(rU,{sensors:u,collisionDetection:nV,onDragEnd:c,children:j.jsx(rJ,{items:e.map(e=>e.id),strategy:rH,children:j.jsx("div",{className:"space-y-2",children:e.map(e=>j.jsx(sr,{category:e,isSelected:t.includes(e.id),onSelect:(e,n)=>{n?a([...t,e]):a(t.filter(t=>t!==e))},onEdit:n,onDelete:r,onCopy:s,onMerge:i,onPreview:l,onToggleExpand:o},e.id))})})})}function sc({categories:e,selectedCategories:t,onSelectionChange:a,onEdit:n,onDelete:r,onCopy:s,onMerge:i,onPreview:l,isLoading:o}){return o?j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>j.jsx("div",{className:"h-32 bg-neutral-100 animate-pulse rounded-lg"},t))}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,j.jsxs)(E.Zb,{className:"p-4 hover:shadow-md transition-shadow",children:[j.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[j.jsx(aR.X,{checked:t.includes(e.id),onChange:n=>{n.target.checked?a([...t,e.id]):a(t.filter(t=>t!==e.id))}}),j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center",style:{backgroundColor:e.color||"#6B7280"},children:j.jsx("span",{className:"text-white text-sm",children:e.icon||si(e.type)})}),(0,j.jsxs)("div",{children:[j.jsx("h3",{className:"font-medium text-neutral-900",children:e.name}),j.jsx(aC.C,{variant:sl(e.type),className:"text-xs",children:e.type})]})]})}),e.is_system&&j.jsx(aC.C,{variant:"outline",className:"text-xs mb-2",children:"System Category"}),e.keywords&&e.keywords.length>0&&(0,j.jsxs)("div",{className:"mb-3",children:[j.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Keywords:"}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((e,t)=>j.jsx(aC.C,{variant:"outline",className:"text-xs",children:e},t)),e.keywords.length>3&&(0,j.jsxs)(aC.C,{variant:"outline",className:"text-xs",children:["+",e.keywords.length-3," more"]})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-1 mt-3",children:[j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>l(e),className:"h-8 w-8 p-0",children:j.jsx(ne.Z,{className:"h-4 w-4"})}),j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>s(e),className:"h-8 w-8 p-0",children:j.jsx(aY.Z,{className:"h-4 w-4"})}),j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>n(e),className:"h-8 w-8 p-0",children:j.jsx(aU.Z,{className:"h-4 w-4"})}),!e.is_system&&(0,j.jsxs)(j.Fragment,{children:[j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>i(e),className:"h-8 w-8 p-0",children:j.jsx(nt,{className:"h-4 w-4"})}),j.jsx(_.z,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"h-8 w-8 p-0 text-error-600 hover:text-error-700 hover:bg-error-50",children:j.jsx(a$.Z,{className:"h-4 w-4"})})]})]})]},e.id))})}function sd({categoryStats:e,categorySpending:t,searchTerm:a,isLoading:n}){if(n)return j.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>j.jsx("div",{className:"h-20 bg-neutral-100 animate-pulse rounded-lg"},t))});let r=e.filter(e=>e.category.name.toLowerCase().includes(a.toLowerCase()));return j.jsx("div",{className:"space-y-4",children:r.map(e=>(0,j.jsxs)(E.Zb,{className:"p-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center",style:{backgroundColor:e.category.color||"#6B7280"},children:j.jsx("span",{className:"text-white text-sm",children:e.category.icon||si(e.category.type)})}),(0,j.jsxs)("div",{children:[j.jsx("h3",{className:"font-medium text-neutral-900",children:e.category.name}),(0,j.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.transaction_count," transactions  Avg: ",(0,K.xG)(e.avg_amount)]})]})]}),(0,j.jsxs)("div",{className:"text-right",children:[j.jsx("p",{className:"text-lg font-semibold",children:(0,K.xG)(e.total_amount)}),(0,j.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.usage_frequency.toFixed(1)," tx/month"]})]})]}),e.last_used&&(0,j.jsxs)("div",{className:"mt-2 text-sm text-neutral-600",children:["Last used: ",new Date(e.last_used).toLocaleDateString()]})]},e.category.id))})}function su({categories:e,onManageRules:t,isLoading:a}){return a?j.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>j.jsx("div",{className:"h-16 bg-neutral-100 animate-pulse rounded-lg"},t))}):j.jsx("div",{className:"space-y-3",children:e.map(e=>j.jsx(E.Zb,{className:"p-4",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center",style:{backgroundColor:e.color||"#6B7280"},children:j.jsx("span",{className:"text-white text-sm",children:e.icon||si(e.type)})}),(0,j.jsxs)("div",{children:[j.jsx("h3",{className:"font-medium text-neutral-900",children:e.name}),(0,j.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.rules?.length||0," rules  Confidence: ",(100*(e.confidence_threshold||.8)).toFixed(0),"%"]})]})]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>t(e),children:[j.jsx(a6,{className:"h-4 w-4 mr-1"}),"Manage Rules"]})]})},e.id))})}function sh({isOpen:e,onClose:t,category:a}){return j.jsx(aG,{isOpen:e,onClose:t,title:"Manage Category Rules",size:"lg",children:j.jsx("div",{className:"space-y-4",children:(0,j.jsxs)("p",{className:"text-neutral-600",children:['Configure rules for automatic categorization of transactions for "',a?.name,'"']})})})}function sm({isOpen:e,onClose:t,onImport:a}){return j.jsx(aG,{isOpen:e,onClose:t,title:"Import Categories",children:j.jsx("div",{className:"space-y-4",children:j.jsx("p",{className:"text-neutral-600",children:"Import categories from a CSV or JSON file"})})})}function sf({isOpen:e,onClose:t,sourceCategory:a,categories:n,onMerge:r,isLoading:s}){return j.jsx(aG,{isOpen:e,onClose:t,title:"Merge Categories",children:j.jsx("div",{className:"space-y-4",children:(0,j.jsxs)("p",{className:"text-neutral-600",children:['Merge "',a?.name,'" into another category. All transactions will be moved.']})})})}function sp({isOpen:e,onClose:t,category:a}){return j.jsx(aG,{isOpen:e,onClose:t,title:"Category Preview",children:j.jsx("div",{className:"space-y-4",children:(0,j.jsxs)("p",{className:"text-neutral-600",children:['Preview transactions in "',a?.name,'" category']})})})}var sg=a(40401);let sx=(0,W.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var sy=a(28763);let sv=(0,W.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var sb=a(11448);let sw=(0,W.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var sj=a(65248);let sN=(0,W.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var sC=a(60237),sk=a(52229),sD="AlertDialog",[sM,sS]=(0,et.b)(sD,[sk.p8]),s_=(0,sk.p8)(),sE=e=>{let{__scopeAlertDialog:t,...a}=e,n=s_(t);return(0,j.jsx)(sk.fC,{...n,...a,modal:!0})};sE.displayName=sD,N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,r=s_(a);return(0,j.jsx)(sk.xz,{...r,...n,ref:t})}).displayName="AlertDialogTrigger";var sT=e=>{let{__scopeAlertDialog:t,...a}=e,n=s_(t);return(0,j.jsx)(sk.h_,{...n,...a})};sT.displayName="AlertDialogPortal";var sz=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,r=s_(a);return(0,j.jsx)(sk.aV,{...r,...n,ref:t})});sz.displayName="AlertDialogOverlay";var sR="AlertDialogContent",[sO,sF]=sM(sR),sA=(0,ed.sA)("AlertDialogContent"),sP=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:n,...r}=e,s=s_(a),i=N.useRef(null),l=(0,ee.e)(t,i),o=N.useRef(null);return(0,j.jsx)(sk.jm,{contentName:sR,titleName:sZ,docsSlug:"alert-dialog",children:(0,j.jsx)(sO,{scope:a,cancelRef:o,children:(0,j.jsxs)(sk.VY,{role:"alertdialog",...s,...r,ref:l,onOpenAutoFocus:(0,J.Mj)(r.onOpenAutoFocus,e=>{e.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,j.jsx)(sA,{children:n}),(0,j.jsx)(sq,{contentRef:i})]})})})});sP.displayName=sR;var sZ="AlertDialogTitle",sW=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,r=s_(a);return(0,j.jsx)(sk.Dx,{...r,...n,ref:t})});sW.displayName=sZ;var sL="AlertDialogDescription",sI=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,r=s_(a);return(0,j.jsx)(sk.dk,{...r,...n,ref:t})});sI.displayName=sL;var sU=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,r=s_(a);return(0,j.jsx)(sk.x8,{...r,...n,ref:t})});sU.displayName="AlertDialogAction";var sY="AlertDialogCancel",s$=N.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...n}=e,{cancelRef:r}=sF(sY,a),s=s_(a),i=(0,ee.e)(t,r);return(0,j.jsx)(sk.x8,{...s,...n,ref:i})});s$.displayName=sY;var sq=({contentRef:e})=>{let t=`\`${sR}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sR}\` by passing a \`${sL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sR}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};let sB=N.forwardRef(({className:e,...t},a)=>j.jsx(sz,{className:(0,K.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));sB.displayName=sz.displayName;let sQ=N.forwardRef(({className:e,...t},a)=>(0,j.jsxs)(sT,{children:[j.jsx(sB,{}),j.jsx(sP,{ref:a,className:(0,K.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sQ.displayName=sP.displayName;let sV=({className:e,...t})=>j.jsx("div",{className:(0,K.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});sV.displayName="AlertDialogHeader";let sK=({className:e,...t})=>j.jsx("div",{className:(0,K.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sK.displayName="AlertDialogFooter";let sH=N.forwardRef(({className:e,...t},a)=>j.jsx(sW,{ref:a,className:(0,K.cn)("text-lg font-semibold",e),...t}));sH.displayName=sW.displayName;let sX=N.forwardRef(({className:e,...t},a)=>j.jsx(sI,{ref:a,className:(0,K.cn)("text-sm text-muted-foreground",e),...t}));sX.displayName=sI.displayName;let sG=N.forwardRef(({className:e,...t},a)=>j.jsx(sU,{ref:a,className:(0,K.cn)((0,_.d)(),e),...t}));sG.displayName=sU.displayName;let sJ=N.forwardRef(({className:e,...t},a)=>j.jsx(s$,{ref:a,className:(0,K.cn)((0,_.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sJ.displayName=s$.displayName;var s0=a(13377),s1=a(37677);function s2({selectedTransactions:e,onClearSelection:t,onCategorize:a,onTransactionsUpdated:n,className:r}){let s=(0,D.NL)(),i=(0,se.PM)(),l=(0,se.cM)(),[o,c]=(0,N.useState)(!1),[d,u]=(0,N.useState)(!1),[h,m]=(0,N.useState)(null),[f,p]=(0,N.useState)(!1),[g,x]=(0,N.useState)([]),y=(0,S.D)({mutationFn:async({updates:e,transactionIds:t})=>a1.d.bulkUpdateTransactions({transaction_ids:t,updates:e}),onSuccess:e=>{s.invalidateQueries({queryKey:["transactions"]}),s.invalidateQueries({queryKey:["transaction-stats"]}),n(e)}}),v=(0,S.D)({mutationFn:async t=>{let a=e.slice();return x(e=>[...e,{operation:"delete",transactions:a,timestamp:new Date}]),Promise.all(t.map(e=>a1.d.deleteTransaction(e)))},onSuccess:()=>{s.invalidateQueries({queryKey:["transactions"]}),s.invalidateQueries({queryKey:["transaction-stats"]}),i("Transactions Deleted",`Successfully deleted ${e.length} transactions`),t()},onError:e=>{l("Delete Failed",e.message||"Failed to delete transactions")}}),b=(0,S.D)({mutationFn:async t=>{let a={transaction_ids:e.map(e=>e.id)};return a1.d.exportTransactions(a,t)},onSuccess:(t,a)=>{i("Export Complete",`${e.length} transactions exported as ${a.toUpperCase()}`)},onError:e=>{l("Export Failed",e.message||"Failed to export transactions")}}),w=(0,N.useMemo)(()=>{let t=e.reduce((e,t)=>e+t.amount,0),a=e.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0),n=e.filter(e=>e.amount<0).reduce((e,t)=>e+Math.abs(t.amount),0),r=new Set(e.map(e=>e.account_id)).size,s=e.length>0?{start:new Date(Math.min(...e.map(e=>new Date(e.date).getTime()))),end:new Date(Math.max(...e.map(e=>new Date(e.date).getTime())))}:null,i=e.filter(e=>!e.category_id).length,l=e.filter(e=>e.is_pending).length;return{count:e.length,totalAmount:t,incomeAmount:a,expenseAmount:n,accounts:r,dateRange:s,uncategorized:i,pending:l}},[e]),C=(0,N.useMemo)(()=>{if(e.length<2)return[];let t=[],a=Object.entries(e.reduce((e,t)=>{let a=t.merchant_name||"Unknown";return e[a]=(e[a]||0)+1,e},{})).sort(([,e],[,t])=>t-e)[0];a&&a[1]>1&&t.push({type:"merchant",title:`All from ${a[0]}`,description:`${a[1]} transactions from the same merchant`,count:a[1],icon:j.jsx(sg.Z,{className:"h-4 w-4"}),action:()=>{console.log("Filter by merchant:",a[0])}});let n=Object.entries(e.reduce((e,t)=>{let a=Math.round(Math.abs(t.amount));return e[a]=(e[a]||0)+1,e},{})).sort(([,e],[,t])=>t-e)[0];n&&n[1]>1&&t.push({type:"amount",title:`Similar amounts (~${(0,K.xG)(Number(n[0]))})`,description:`${n[1]} transactions with similar amounts`,count:n[1],icon:j.jsx(a3.Z,{className:"h-4 w-4"}),action:()=>{console.log("Filter by amount:",n[0])}});let r=e.filter(e=>{var t;return tr(t=new Date(e.date),(0,s1.y)(t))}).length;return r>.8*e.length&&t.push({type:"date",title:"Recent transactions",description:`${r} transactions from this month`,count:r,icon:j.jsx(aP.Z,{className:"h-4 w-4"}),action:()=>{console.log("Focus on recent transactions")}}),t},[e]),k=(0,N.useCallback)(async a=>{try{m({isRunning:!0,operation:a?"Marking as reviewed":"Marking as unreviewed",completed:0,total:e.length,errors:[],startTime:new Date}),await y.mutateAsync({updates:{notes:a?"reviewed":void 0},transactionIds:e.map(e=>e.id)}),m(null),i(a?"Marked as Reviewed":"Marked as Unreviewed",`${e.length} transactions updated`),t()}catch(e){m(null),l("Update Failed",e.message||"Failed to update transactions")}},[e,y,i,l,t]),M=(0,N.useCallback)(async()=>{try{m({isRunning:!0,operation:"Deleting transactions",completed:0,total:e.length,errors:[],startTime:new Date}),await v.mutateAsync(e.map(e=>e.id)),m(null),c(!1)}catch(e){m(null)}},[e,v]),T=(0,N.useCallback)(async e=>{try{await b.mutateAsync(e),u(!1)}catch(e){}},[b]),z=(0,N.useCallback)(()=>{if(0===g.length)return;let e=g[g.length-1];x(e=>e.slice(0,-1)),i("Undo Available",`${e.operation} operation can be undone (feature coming soon)`)},[g,i]);return 0===e.length?null:(0,j.jsxs)(j.Fragment,{children:[j.jsx(E.Zb,{className:(0,K.cn)("border-primary-200 bg-primary-50/50",r),children:j.jsx(E.aY,{className:"p-4",children:(0,j.jsxs)("div",{className:"space-y-4",children:[h&&(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,j.jsxs)("span",{className:"font-medium",children:[h.operation,"..."]}),(0,j.jsxs)("span",{children:[h.completed,"/",h.total]})]}),j.jsx(s0.E,{value:h.completed/h.total*100,className:"h-2"}),h.errors.length>0&&(0,j.jsxs)("div",{className:"text-xs text-error-600",children:[h.errors.length," errors occurred"]})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(aC.C,{variant:"default",className:"text-sm",children:[w.count," selected"]}),(0,j.jsxs)("div",{className:"text-sm text-neutral-600",children:[j.jsx("span",{className:"font-medium",children:(0,K.xG)(w.totalAmount)}),w.accounts>1&&(0,j.jsxs)("span",{className:"ml-2",children:[" ",w.accounts," accounts"]})]})]}),w.incomeAmount>0&&w.expenseAmount>0&&(0,j.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[(0,j.jsxs)("span",{className:"text-success-600",children:["+",(0,K.xG)(w.incomeAmount)]}),j.jsx("span",{children:""}),(0,j.jsxs)("span",{className:"text-error-600",children:["-",(0,K.xG)(w.expenseAmount)]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[w.uncategorized>0&&(0,j.jsxs)(aO.u,{children:[j.jsx(aO.aJ,{children:(0,j.jsxs)(aC.C,{variant:"outline",className:"text-xs",children:[w.uncategorized," uncategorized"]})}),(0,j.jsxs)(aO._v,{children:[w.uncategorized," transactions need categorization"]})]}),w.pending>0&&(0,j.jsxs)(aO.u,{children:[j.jsx(aO.aJ,{children:(0,j.jsxs)(aC.C,{variant:"secondary",className:"text-xs",children:[w.pending," pending"]})}),(0,j.jsxs)(aO._v,{children:[w.pending," transactions are still pending"]})]})]}),C.length>0&&(0,j.jsxs)(A.h_,{open:f,onOpenChange:p,children:[j.jsx(A.$F,{asChild:!0,children:(0,j.jsxs)(_.z,{variant:"ghost",size:"sm",className:"h-7",children:[j.jsx(sx,{className:"h-4 w-4 mr-1"}),C.length," suggestion",1!==C.length?"s":""]})}),(0,j.jsxs)(A.AW,{align:"start",className:"w-80",children:[j.jsx(A.Ju,{children:"Smart Suggestions"}),j.jsx(A.VD,{}),C.map((e,t)=>(0,j.jsxs)(A.Xi,{onClick:e.action,className:"flex items-start gap-3 py-3",children:[j.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.icon}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[j.jsx("div",{className:"font-medium",children:e.title}),j.jsx("div",{className:"text-xs text-neutral-500",children:e.description})]})]},t))]})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:a,disabled:y.isPending,children:[j.jsx(aZ,{className:"h-4 w-4 mr-1"}),"Categorize"]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>k(!0),disabled:y.isPending,children:[j.jsx(sy.Z,{className:"h-4 w-4 mr-1"}),"Mark Reviewed"]}),(0,j.jsxs)(A.h_,{children:[j.jsx(A.$F,{asChild:!0,children:(0,j.jsxs)(_.z,{variant:"outline",size:"sm",children:[j.jsx(sv,{className:"h-4 w-4 mr-1"}),"More Actions"]})}),(0,j.jsxs)(A.AW,{align:"end",children:[j.jsx(A.Ju,{children:"Bulk Actions"}),j.jsx(A.VD,{}),(0,j.jsxs)(A.Xi,{onClick:()=>u(!0),children:[j.jsx(a8.Z,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),(0,j.jsxs)(A.Xi,{onClick:()=>k(!1),children:[j.jsx(sb.Z,{className:"h-4 w-4 mr-2"}),"Mark Unreviewed"]}),(0,j.jsxs)(A.Xi,{onClick:()=>{k(!0)},children:[j.jsx(sw,{className:"h-4 w-4 mr-2"}),"Archive"]}),j.jsx(A.VD,{}),(0,j.jsxs)(A.Xi,{onClick:()=>c(!0),className:"text-error-600 focus:text-error-600",children:[j.jsx(sj.Z,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})]})]}),g.length>0&&(0,j.jsxs)(aO.u,{children:[j.jsx(aO.aJ,{asChild:!0,children:j.jsx(_.z,{variant:"ghost",size:"sm",onClick:z,className:"h-8 w-8 p-0",children:j.jsx(sN,{className:"h-4 w-4"})})}),j.jsx(aO._v,{children:"Undo last operation"})]}),j.jsx(_.z,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:j.jsx(Z.Z,{className:"h-4 w-4"})})]})]}),w.dateRange&&j.jsx("div",{className:"text-xs text-neutral-500",children:w.dateRange.start.getTime()===w.dateRange.end.getTime()?`${(0,e9.WU)(w.dateRange.start,"MMM d, yyyy")}`:`${(0,e9.WU)(w.dateRange.start,"MMM d")} - ${(0,e9.WU)(w.dateRange.end,"MMM d, yyyy")}`})]})})}),j.jsx(sE,{open:o,onOpenChange:c,children:(0,j.jsxs)(sQ,{children:[(0,j.jsxs)(sV,{children:[(0,j.jsxs)(sH,{className:"flex items-center gap-2",children:[j.jsx(sC.Z,{className:"h-5 w-5 text-error-600"}),"Delete ",e.length," Transaction",1!==e.length?"s":"","?"]}),(0,j.jsxs)(sX,{className:"space-y-2",children:[j.jsx("p",{children:"This action cannot be undone. The following transactions will be permanently deleted:"}),(0,j.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-3 space-y-1 max-h-32 overflow-y-auto",children:[(0,j.jsxs)("div",{className:"text-sm font-medium",children:[w.count," transactions  ",(0,K.xG)(w.totalAmount)]}),w.dateRange&&(0,j.jsxs)("div",{className:"text-xs text-neutral-500",children:[(0,e9.WU)(w.dateRange.start,"MMM d")," - ",(0,e9.WU)(w.dateRange.end,"MMM d, yyyy")]}),w.accounts>1&&(0,j.jsxs)("div",{className:"text-xs text-neutral-500",children:["Across ",w.accounts," accounts"]})]})]})]}),(0,j.jsxs)(sK,{children:[j.jsx(sJ,{children:"Cancel"}),j.jsx(sG,{onClick:M,className:"bg-error-600 hover:bg-error-700",disabled:v.isPending,children:v.isPending?"Deleting...":"Delete Transactions"})]})]})}),j.jsx(sE,{open:d,onOpenChange:u,children:(0,j.jsxs)(sQ,{children:[(0,j.jsxs)(sV,{children:[(0,j.jsxs)(sH,{className:"flex items-center gap-2",children:[j.jsx(aL.Z,{className:"h-5 w-5"}),"Export ",e.length," Transaction",1!==e.length?"s":""]}),j.jsx(sX,{children:"Choose the format for exporting your selected transactions."})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-3 py-4",children:[(0,j.jsxs)(_.z,{variant:"outline",onClick:()=>T("csv"),disabled:b.isPending,className:"h-20 flex-col",children:[j.jsx(aL.Z,{className:"h-6 w-6 mb-2"}),"CSV File",j.jsx("span",{className:"text-xs text-neutral-500",children:"Spreadsheet compatible"})]}),(0,j.jsxs)(_.z,{variant:"outline",onClick:()=>T("xlsx"),disabled:b.isPending,className:"h-20 flex-col",children:[j.jsx(aL.Z,{className:"h-6 w-6 mb-2"}),"Excel File",j.jsx("span",{className:"text-xs text-neutral-500",children:"Full formatting"})]})]}),j.jsx(sK,{children:j.jsx(sJ,{children:"Cancel"})})]})})]})}var s4=a(21999),s5=a(72578),s3=a(98484),s6=a(95119),s8=a(1991);function s7({icon:e,title:t,description:a,actionText:n,onAction:r}){return(0,j.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[j.jsx(e,{className:"h-12 w-12 text-gray-400 mb-4"}),j.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),j.jsx("p",{className:"text-sm text-gray-500 mb-4 max-w-sm",children:a}),n&&r&&j.jsx(_.z,{onClick:r,children:n})]})}function s9({title:e,value:t,icon:a,trend:n,color:r="default",isLoading:s=!1}){return j.jsx(E.Zb,{children:j.jsx(E.aY,{className:"p-6",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"space-y-1",children:[j.jsx("p",{className:"text-sm font-medium text-neutral-600",children:e}),s?j.jsx("div",{className:"h-8 w-24 bg-neutral-200 animate-pulse rounded"}):j.jsx("p",{className:`text-2xl font-bold ${{default:"text-neutral-600",success:"text-success-600",error:"text-error-600",warning:"text-warning-600"}[r]}`,children:t})]}),j.jsx("div",{className:`p-3 rounded-full bg-neutral-50 ${{default:"text-neutral-500",success:"text-success-500",error:"text-error-500",warning:"text-warning-500"}[r]}`,children:j.jsx(a,{className:"h-6 w-6"})})]})})})}let ie={date_from:(0,e9.WU)((0,to.N)(new Date),"yyyy-MM-dd"),date_to:(0,e9.WU)((0,e8.V)(new Date),"yyyy-MM-dd")};function it(){let e=(0,D.NL)(),t=(0,se.PM)(),a=(0,se.cM)(),[n,r]=(0,N.useState)(ie),[s,i]=(0,N.useState)([]),[l,o]=(0,N.useState)(!1),[c,d]=(0,N.useState)(!1),[u,h]=(0,N.useState)([]),[m,f]=(0,N.useState)(!1),[p,g]=(0,N.useState)(!1),{data:x,isLoading:y,error:v}=(0,M.a)({queryKey:["transactions",n],queryFn:()=>a1.d.getTransactions(n)}),{data:b=[],isLoading:w}=(0,M.a)({queryKey:["accounts"],queryFn:s8.S.getAccounts}),{data:C=[],isLoading:z}=(0,M.a)({queryKey:["categories"],queryFn:a0.Y.getCategories}),{data:R,isLoading:O}=(0,M.a)({queryKey:["transaction-stats",n],queryFn:()=>a1.d.getTransactionStats({date_from:n.date_from,date_to:n.date_to,account_id:n.account_id})});(0,S.D)({mutationFn:({id:e,updates:t})=>a1.d.updateTransaction(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["transaction-stats"]}),t("Transaction Updated","The transaction has been updated successfully")},onError:e=>{a("Update Failed",e.message||"Failed to update transaction")}});let F=(0,S.D)({mutationFn:a1.d.deleteTransaction,onSuccess:()=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["transaction-stats"]}),t("Transaction Deleted","The transaction has been deleted successfully")},onError:e=>{a("Delete Failed",e.message||"Failed to delete transaction")}});(0,S.D)({mutationFn:e=>a1.d.categorizeTransactions(e),onSuccess:a=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["transaction-stats"]}),t("Categorization Complete",`Successfully categorized ${a.categorized_count} transactions`)},onError:e=>{a("Categorization Failed",e.message||"Failed to categorize transactions")}});let P=(0,N.useCallback)(async()=>{o(!0);try{await a1.d.syncTransactions(),await e.invalidateQueries({queryKey:["transactions"]}),await e.invalidateQueries({queryKey:["transaction-stats"]}),t("Sync Complete","Transactions have been synced successfully")}catch(e){a("Sync Failed",e.message||"Failed to sync transactions")}finally{o(!1)}},[e,t,a]),Z=(0,N.useCallback)(async e=>{try{await a1.d.exportTransactions(n,e),t("Export Complete",`Transactions exported as ${e.toUpperCase()}`)}catch(e){a("Export Failed",e.message||"Failed to export transactions")}},[n,t,a]),W=(0,N.useCallback)(e=>{console.log("Edit transaction:",e)},[]),L=(0,N.useCallback)(e=>{confirm("Are you sure you want to delete this transaction?")&&F.mutate(e.id)},[F]),I=(0,N.useCallback)(e=>{h([e]),d(!0)},[]),U=(0,N.useCallback)(()=>{if(0===s.length){a("No Selection","Please select transactions to categorize");return}h(s),d(!0)},[s,a]),Y=(0,N.useCallback)(()=>{i([]),g(!1)},[]),$=(0,N.useCallback)(e=>{i(e),g(e.length>0)},[]),q=(0,N.useCallback)(()=>{r(ie)},[]),B=(0,N.useCallback)(()=>{d(!1),h([])},[]),Q=(0,N.useCallback)(t=>{e.invalidateQueries({queryKey:["transactions"]}),e.invalidateQueries({queryKey:["transaction-stats"]})},[e]),V=(0,N.useMemo)(()=>x?.transactions||[],[x]),X=(0,N.useMemo)(()=>x?.total||0,[x]),G=(0,N.useMemo)(()=>(function({accounts:e,categories:t,onEdit:a,onDelete:n,onCategorize:r,onDuplicate:s,onViewDetails:i}){return[{id:"select",header:({table:e})=>j.jsx(aR.X,{checked:e.getIsAllPageRowsSelected(),onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>j.jsx(aR.X,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row","data-no-row-click":!0}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:"Date",cell:({row:e})=>{let t=(0,aE.D)(e.getValue("date"));return(0,j.jsxs)("div",{className:"whitespace-nowrap",children:[j.jsx("div",{className:"font-medium",children:(0,e9.WU)(t,"MMM d, yyyy")}),j.jsx("div",{className:"text-xs text-muted-foreground",children:(0,e9.WU)(t,"EEEE")})]})},sortingFn:"datetime"},{accessorKey:"description",header:"Description",cell:({row:e})=>{let t=e.original,a=t.amount>0;return(0,j.jsxs)("div",{className:"flex items-start space-x-2",children:[j.jsx("div",{className:(0,K.cn)("mt-1 p-1 rounded",a?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:a?j.jsx(aF,{className:"h-3 w-3"}):j.jsx(aA.Z,{className:"h-3 w-3"})}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[j.jsx("div",{className:"font-medium truncate",children:t.description}),t.merchant_name&&t.merchant_name!==t.description&&j.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.merchant_name})]}),t.is_pending&&j.jsx(aO.pn,{children:(0,j.jsxs)(aO.u,{children:[j.jsx(aO.aJ,{children:j.jsx(aP.Z,{className:"h-4 w-4 text-amber-500"})}),j.jsx(aO._v,{children:j.jsx("p",{children:"Pending transaction"})})]})})]})}},{id:"category",header:"Category",accessorFn:e=>e.category||"Uncategorized",cell:({row:e})=>{let a=e.original,n=a.category_id?t.find(e=>e.id===a.category_id):null;return n?(0,j.jsxs)(aC.C,{variant:"outline",className:"cursor-pointer",onClick:e=>{e.stopPropagation(),r&&r(a)},"data-no-row-click":!0,children:[n.icon&&j.jsx("span",{className:"mr-1",children:n.icon}),n.name,a.subcategory&&(0,j.jsxs)("span",{className:"ml-1 text-xs text-muted-foreground",children:["/ ",a.subcategory]})]}):(0,j.jsxs)(_.z,{variant:"ghost",size:"sm",className:"h-7 text-xs text-muted-foreground hover:text-foreground",onClick:e=>{e.stopPropagation(),r&&r(a)},"data-no-row-click":!0,children:[j.jsx(aZ,{className:"mr-1 h-3 w-3"}),"Add category"]})},filterFn:(e,t,a)=>"Uncategorized"===a?!e.original.category_id:e.original.category_id===a},{accessorKey:"account_id",header:"Account",cell:({row:t})=>{let a=e.find(e=>e.id===t.getValue("account_id"));return a?(0,j.jsxs)("div",{className:"whitespace-nowrap",children:[j.jsx("div",{className:"font-medium text-sm",children:a.name}),a.mask&&(0,j.jsxs)("div",{className:"text-xs text-muted-foreground",children:[" ",a.mask]})]}):j.jsx("span",{className:"text-muted-foreground",children:"Unknown"})},filterFn:(e,t,a)=>e.getValue(t)===a},{accessorKey:"amount",header:({column:e})=>j.jsx(_.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),className:"hover:bg-transparent p-0",children:"Amount"}),cell:({row:e})=>{let t=parseFloat(e.getValue("amount")),a=t>0;return(0,j.jsxs)("div",{className:(0,K.cn)("font-mono font-semibold text-right whitespace-nowrap",a?"text-green-600":"text-red-600"),children:[a?"+":"-","$",Math.abs(t).toFixed(2)]})},sortingFn:"basic"},{id:"status",header:"Status",cell:({row:e})=>{let t=e.original;return(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[t.is_pending?(0,j.jsxs)(aC.C,{variant:"secondary",className:"text-xs",children:[j.jsx(aP.Z,{className:"mr-1 h-3 w-3"}),"Pending"]}):(0,j.jsxs)(aC.C,{variant:"outline",className:"text-xs",children:[j.jsx(aW.Z,{className:"mr-1 h-3 w-3"}),"Posted"]}),t.notes&&j.jsx(aO.pn,{children:(0,j.jsxs)(aO.u,{children:[j.jsx(aO.aJ,{children:j.jsx(aL.Z,{className:"h-3 w-3 text-muted-foreground"})}),j.jsx(aO._v,{children:j.jsx("p",{className:"max-w-xs",children:t.notes})})]})})]})}},{id:"actions",enableHiding:!1,cell:({row:e})=>{let t=e.original;return(0,j.jsxs)(A.h_,{children:[j.jsx(A.$F,{asChild:!0,children:(0,j.jsxs)(_.z,{variant:"ghost",className:"h-8 w-8 p-0","data-no-row-click":!0,children:[j.jsx("span",{className:"sr-only",children:"Open menu"}),j.jsx(aI.Z,{className:"h-4 w-4"})]})}),(0,j.jsxs)(A.AW,{align:"end",children:[j.jsx(A.Ju,{children:"Actions"}),(0,j.jsxs)(A.Xi,{onClick:()=>i&&i(t),children:[j.jsx(aL.Z,{className:"mr-2 h-4 w-4"}),"View details"]}),(0,j.jsxs)(A.Xi,{onClick:()=>a&&a(t),children:[j.jsx(aU.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,j.jsxs)(A.Xi,{onClick:()=>r&&r(t),children:[j.jsx(aZ,{className:"mr-2 h-4 w-4"}),"Categorize"]}),(0,j.jsxs)(A.Xi,{onClick:()=>s&&s(t),children:[j.jsx(aY.Z,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),j.jsx(A.VD,{}),(0,j.jsxs)(A.Xi,{onClick:()=>n&&n(t),className:"text-red-600",children:[j.jsx(a$.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}]})({accounts:b,categories:C,onEdit:W,onDelete:L,onCategorize:I}),[b,C,W,L,I]),J=y||w||z,ee=!J&&0===V.length&&!v;return(0,j.jsxs)(k.c,{title:"Transactions",description:"View and manage all your financial transactions across all accounts",children:[(0,j.jsxs)("div",{className:"space-y-6 relative",children:[(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,j.jsxs)("div",{children:[j.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"All Transactions"}),(0,j.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:[X.toLocaleString()," total transactions",n.date_from&&n.date_to&&(0,j.jsxs)("span",{className:"ml-1",children:["from ",(0,e9.WU)(new Date(n.date_from),"MMM d")," to ",(0,e9.WU)(new Date(n.date_to),"MMM d, yyyy")]}),s.length>0&&(0,j.jsxs)("span",{className:"ml-2 text-primary-600 font-medium",children:[" ",s.length," selected"]})]}),s.length>0&&(0,j.jsxs)("div",{className:"text-xs text-neutral-500 mt-1",children:["Keyboard shortcuts: ",j.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 rounded text-xs",children:"Cmd+A"})," select all,",j.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 rounded text-xs",children:"Esc"})," clear,",j.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 rounded text-xs",children:"Cmd+Shift+C"})," categorize"]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>Z("csv"),disabled:0===V.length,children:[j.jsx(a8.Z,{className:"h-4 w-4 mr-1"}),"Export"]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[j.jsx(s4.Z,{className:"h-4 w-4 mr-1"}),"Manage Categories"]}),(0,j.jsxs)(_.z,{variant:"outline",size:"sm",onClick:P,disabled:l,children:[l?j.jsx(T.gb,{size:"sm",className:"mr-1"}):j.jsx(s5.Z,{className:"h-4 w-4 mr-1"}),"Sync"]}),(0,j.jsxs)(_.z,{size:"sm",children:[j.jsx(aX.Z,{className:"h-4 w-4 mr-1"}),"Add Transaction"]})]})]}),R&&(0,j.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[j.jsx(s9,{title:"Total Income",value:(0,K.xG)(R.total_income),icon:na.Z,color:"success",isLoading:O}),j.jsx(s9,{title:"Total Expenses",value:(0,K.xG)(Math.abs(R.total_expenses)),icon:nn.Z,color:"error",isLoading:O}),j.jsx(s9,{title:"Net Income",value:(0,K.xG)(R.net_income),icon:aM.Z,color:R.net_income>=0?"success":"error",isLoading:O}),j.jsx(s9,{title:"Avg Transaction",value:(0,K.xG)(R.avg_transaction_amount),icon:s3.Z,isLoading:O})]}),(0,j.jsxs)(E.Zb,{children:[(0,j.jsxs)(E.Ol,{className:"pb-4",children:[j.jsx(E.ll,{className:"text-lg",children:"Filters"}),j.jsx(E.SZ,{children:"Filter and search through your transactions"})]}),j.jsx(E.aY,{children:j.jsx(az,{filters:n,onFiltersChange:r,accounts:b,categories:C,onReset:q})})]}),s.length>0&&j.jsx("div",{className:"sticky top-4 z-10",children:j.jsx(s2,{selectedTransactions:s,onClearSelection:Y,onCategorize:U,onTransactionsUpdated:Q})}),p&&s.length>0&&j.jsx("div",{className:"fixed bottom-6 right-6 z-20 md:hidden",children:j.jsx(_.z,{onClick:U,className:"h-14 w-14 rounded-full shadow-lg",size:"sm",children:j.jsx(Tag,{className:"h-6 w-6"})})}),v?j.jsx(E.Zb,{children:j.jsx(E.aY,{className:"py-12",children:j.jsx(s7,{icon:aQ.Z,title:"Error Loading Transactions",description:v.message||"Failed to load transactions",actionText:"Try Again",onAction:P})})}):ee?j.jsx(E.Zb,{children:j.jsx(E.aY,{className:"py-12",children:j.jsx(s7,{icon:n.date_from||n.account_id?aL.Z:s6.Z,title:n.date_from||n.account_id?"No Transactions Found":"No Transactions Yet",description:n.date_from||n.account_id?"No transactions match your current filters. Try adjusting your search criteria.":"You don't have any transactions yet. Connect your accounts to start tracking.",actionText:n.date_from||n.account_id?"Clear Filters":"Connect Account",onAction:()=>n.date_from||n.account_id?q():window.location.href="/accounts"})})}):j.jsx(E.Zb,{className:"overflow-hidden",children:j.jsx(H,{columns:G,data:V,onRowSelectionChange:$,onRowClick:e=>I(e),searchKey:"description",searchPlaceholder:"Search by description or merchant...",showColumnToggle:!0,showPagination:!0,pageSize:50,isLoading:J||l,emptyMessage:"No transactions found matching your filters.",className:"border-0"})})]}),j.jsx(a4,{isOpen:c,onClose:B,transactions:u,onTransactionsUpdated:Q}),j.jsx(sn,{isOpen:m,onClose:()=>f(!1)})]})}},24988:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var n=a(73227);a(23677);var r=a(31086),s=a(18755);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary-600 text-white hover:bg-primary-700",secondary:"border-transparent bg-secondary-100 text-secondary-900 hover:bg-secondary-200",destructive:"border-transparent bg-error-600 text-white hover:bg-error-700",outline:"text-foreground",success:"border-transparent bg-success-600 text-white hover:bg-success-700",warning:"border-transparent bg-warning-600 text-white hover:bg-warning-700",info:"border-transparent bg-info-600 text-white hover:bg-info-700"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return n.jsx("div",{className:(0,s.cn)(i({variant:t}),e),...a})}},10237:(e,t,a)=>{"use strict";a.d(t,{X:()=>i});var n=a(73227),r=a(23677),s=a(18755);let i=r.forwardRef(({className:e,label:t,description:a,error:r,...i},l)=>(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"relative flex items-center",children:n.jsx("input",{type:"checkbox",className:(0,s.cn)("h-4 w-4 rounded border-neutral-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-50",r&&"border-error-500 focus:border-error-500 focus:ring-error-500",e),ref:l,...i})}),t&&(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-neutral-900",children:t}),a&&n.jsx("p",{className:"text-sm text-neutral-600",children:a})]})]}),r&&n.jsx("p",{className:"text-sm text-error-600",children:r})]}));i.displayName="Checkbox"},58615:(e,t,a)=>{"use strict";a.d(t,{$F:()=>u,AW:()=>h,Ju:()=>p,VD:()=>g,Xi:()=>m,bO:()=>f,h_:()=>d});var n=a(73227),r=a(23677),s=a(27237),i=a(25749),l=a(56942),o=a(38880),c=a(18755);let d=s.fC,u=s.xz;s.ZA,s.Uv,s.Tr,s.Ee,r.forwardRef(({className:e,inset:t,children:a,...r},l)=>(0,n.jsxs)(s.fF,{ref:l,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,n.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=s.fF.displayName,r.forwardRef(({className:e,...t},a)=>n.jsx(s.tu,{ref:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=s.tu.displayName;let h=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>n.jsx(s.Uv,{children:n.jsx(s.VY,{ref:r,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));h.displayName=s.VY.displayName;let m=r.forwardRef(({className:e,inset:t,...a},r)=>n.jsx(s.ck,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));m.displayName=s.ck.displayName;let f=r.forwardRef(({className:e,children:t,checked:a,...r},i)=>(0,n.jsxs)(s.oC,{ref:i,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(s.wU,{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),t]}));f.displayName=s.oC.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,n.jsxs)(s.Rk,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(s.wU,{children:n.jsx(o.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=s.Rk.displayName;let p=r.forwardRef(({className:e,inset:t,...a},r)=>n.jsx(s.__,{ref:r,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));p.displayName=s.__.displayName;let g=r.forwardRef(({className:e,...t},a)=>n.jsx(s.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));g.displayName=s.Z0.displayName},73956:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var n=a(73227),r=a(23677),s=a(18755);let i=r.forwardRef(({className:e,type:t,error:a,helperText:r,startIcon:i,endIcon:l,...o},c)=>(0,n.jsxs)("div",{className:"relative",children:[i&&n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",children:i}),n.jsx("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-neutral-300 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i&&"pl-10",l&&"pr-10",a&&"border-error-500 focus-visible:ring-error-500",e),ref:c,...o}),l&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400",children:l}),r&&n.jsx("p",{className:(0,s.cn)("mt-1 text-sm",a?"text-error-600":"text-neutral-500"),children:r})]}));i.displayName="Input"},83414:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});var n=a(73227),r=a(23677),s=a(38063),i=a(18755);let l=r.forwardRef(({className:e,...t},a)=>n.jsx(s.f,{ref:a,className:(0,i.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));l.displayName=s.f.displayName},13377:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var n=a(73227),r=a(23677),s=a(37620),i=a(18755);let l=r.forwardRef(({className:e,value:t,...a},r)=>n.jsx(s.fC,{ref:r,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:n.jsx(s.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));l.displayName=s.fC.displayName},51500:(e,t,a)=>{"use strict";a.d(t,{x:()=>i});var n=a(73227),r=a(23677),s=a(18755);let i=r.forwardRef(({className:e,children:t,viewportClassName:a,...r},i)=>n.jsx("div",{ref:i,className:(0,s.cn)("relative overflow-hidden",e),...r,children:n.jsx("div",{className:(0,s.cn)("h-full w-full overflow-auto scrollbar-thin scrollbar-thumb-neutral-300 scrollbar-track-transparent hover:scrollbar-thumb-neutral-400",a),children:t})}));i.displayName="ScrollArea"},63062:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>p,Ph:()=>d,Ql:()=>g,i4:()=>h,ki:()=>u});var n=a(73227),r=a(23677),s=a(52375),i=a(65327),l=a(87090),o=a(56942),c=a(18755);let d=s.fC;s.ZA;let u=s.B4,h=r.forwardRef(({className:e,children:t,...a},r)=>(0,n.jsxs)(s.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-neutral-300 bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,n.jsx(s.JO,{asChild:!0,children:n.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=s.xz.displayName;let m=r.forwardRef(({className:e,...t},a)=>n.jsx(s.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(l.Z,{className:"h-4 w-4"})}));m.displayName=s.u_.displayName;let f=r.forwardRef(({className:e,...t},a)=>n.jsx(s.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(i.Z,{className:"h-4 w-4"})}));f.displayName=s.$G.displayName;let p=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>n.jsx(s.h_,{children:(0,n.jsxs)(s.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[n.jsx(m,{}),n.jsx(s.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(f,{})]})}));p.displayName=s.VY.displayName,r.forwardRef(({className:e,...t},a)=>n.jsx(s.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=s.__.displayName;let g=r.forwardRef(({className:e,children:t,...a},r)=>(0,n.jsxs)(s.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(s.wU,{children:n.jsx(o.Z,{className:"h-4 w-4"})})}),n.jsx(s.eT,{children:t})]}));g.displayName=s.ck.displayName,r.forwardRef(({className:e,...t},a)=>n.jsx(s.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=s.Z0.displayName},49543:(e,t,a)=>{"use strict";a.d(t,{RM:()=>o,SC:()=>c,iA:()=>i,pj:()=>u,ss:()=>d,xD:()=>l});var n=a(73227),r=a(23677),s=a(18755);let i=r.forwardRef(({className:e,...t},a)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:a,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let l=r.forwardRef(({className:e,...t},a)=>n.jsx("thead",{ref:a,className:(0,s.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let o=r.forwardRef(({className:e,...t},a)=>n.jsx("tbody",{ref:a,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody",r.forwardRef(({className:e,...t},a)=>n.jsx("tfoot",{ref:a,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let c=r.forwardRef(({className:e,...t},a)=>n.jsx("tr",{ref:a,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));c.displayName="TableRow";let d=r.forwardRef(({className:e,...t},a)=>n.jsx("th",{ref:a,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let u=r.forwardRef(({className:e,...t},a)=>n.jsx("td",{ref:a,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",r.forwardRef(({className:e,...t},a)=>n.jsx("caption",{ref:a,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},65330:(e,t,a)=>{"use strict";a.d(t,{_v:()=>d,aJ:()=>c,pn:()=>l,u:()=>o});var n=a(73227),r=a(23677),s=a(78582),i=a(18755);let l=s.zt,o=s.fC,c=s.xz,d=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>n.jsx(s.VY,{ref:r,sideOffset:t,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));d.displayName=s.VY.displayName},85882:(e,t,a)=>{"use strict";a.d(t,{Y:()=>r});var n=a(87674);let r={getCategories:async()=>n.hi.get("/api/v1/categories"),getCategoryHierarchy:async()=>n.hi.get("/api/v1/categories?include_hierarchy=true"),getCategory:async e=>n.hi.get(`/api/v1/categories/${e}`),createCategory:async e=>n.hi.post("/api/v1/categories",e),updateCategory:async(e,t)=>n.hi.put(`/api/v1/categories/${e}`,t),deleteCategory:async e=>n.hi.delete(`/api/v1/categories/${e}`),bulkUpdateCategories:async e=>n.hi.patch("/api/v1/categories/bulk",{updates:e}),mergeCategories:async(e,t)=>n.hi.post("/api/v1/categories/merge",{source_id:e,target_id:t}),getCategoryStats:async e=>{let t=e?`?category_id=${e}`:"";return n.hi.get(`/api/v1/categories/stats${t}`)},exportCategories:async e=>n.hi.get(`/api/v1/categories/export?format=${e}`,{responseType:"blob"}),importCategories:async(e,t)=>{let a=new FormData;return a.append("file",e),t?.merge&&a.append("merge","true"),t?.overwrite&&a.append("overwrite","true"),n.hi.post("/api/v1/categories/import",a,{headers:{"Content-Type":"multipart/form-data"}})},getCategoryRules:async e=>n.hi.get(`/api/v1/categories/${e}/rules`),createCategoryRule:async(e,t)=>n.hi.post(`/api/v1/categories/${e}/rules`,t),updateCategoryRule:async(e,t,a)=>n.hi.put(`/api/v1/categories/${e}/rules/${t}`,a),deleteCategoryRule:async(e,t)=>n.hi.delete(`/api/v1/categories/${e}/rules/${t}`),testCategoryRules:async(e,t)=>n.hi.post("/api/v1/categories/test-rules",{rules:e,sample_size:t}),getCategorySpending:async e=>{let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())}),n.hi.get(`/api/v1/categories/spending?${t.toString()}`)},categorizeTransaction:async e=>n.hi.post("/api/v1/ml/categorize",{transaction_id:e}),provideFeedback:async(e,t,a)=>n.hi.post("/api/v1/ml/feedback",{transaction_id:e,category_id:t,is_correct:a}),bulkCategorize:async e=>n.hi.post("/api/v1/ml/bulk-categorize",{transaction_ids:e})}},4175:(e,t,a)=>{"use strict";a.d(t,{d:()=>r});var n=a(87674);let r={getTransactions:async e=>{let t=new URLSearchParams;e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())});let a=await n.hi.get(`/api/v1/transactions?${t.toString()}`);return{transactions:a.items||[],total:a.total||0}},getTransaction:async e=>n.hi.get(`/api/v1/transactions/${e}`),updateTransaction:async(e,t)=>n.hi.put(`/api/v1/transactions/${e}`,t),deleteTransaction:async e=>n.hi.delete(`/api/v1/transactions/${e}`),bulkUpdateTransactions:async e=>n.hi.put("/api/v1/transactions/bulk",e),bulkDeleteTransactions:async e=>n.hi.post("/api/v1/transactions/bulk-delete",{transaction_ids:e}),markAsReviewed:async(e,t=!0)=>n.hi.put("/api/v1/transactions/bulk",{transaction_ids:e,updates:{notes:t?"reviewed":void 0}}),getTransactionStats:async e=>{let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())}),n.hi.get(`/api/v1/transactions/stats?${t.toString()}`)},syncTransactions:async e=>n.hi.post("/api/v1/plaid/sync-transactions",{account_ids:e?[e]:void 0}),categorizeTransactions:async e=>n.hi.post("/api/v1/transactions/categorize",{transaction_ids:e}),exportTransactions:async(e,t="csv")=>{let a=new URLSearchParams;return a.append("format",t),e&&Object.entries(e).forEach(([e,t])=>{null!=t&&("transaction_ids"===e&&Array.isArray(t)?t.forEach(e=>a.append("transaction_ids",e)):a.append(e,t.toString()))}),n.hi.download(`/api/v1/transactions/export?${a.toString()}`,`transactions.${t}`)},getTransactionSuggestions:async e=>n.hi.post("/api/v1/transactions/suggestions",{transaction_ids:e})}},41100:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n=(0,a(53189).createProxy)(String.raw`/Users/isak/dev/accounts/packages/frontend/src/app/transactions/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[193,858,683,106,846,153,620,636,878,297,610,345,92,857],()=>a(85743));module.exports=n})();