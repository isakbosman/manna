"use strict";exports.id=857,exports.ids=[857],exports.modules={75191:(e,s,t)=>{t.d(s,{c:()=>v});var a=t(73227),r=t(23677),n=t.n(r),i=t(20649),c=t(41043),o=t(21205),l=t(10200),d=t(25619),m=t(36910),x=t(71692),h=t(21999),p=t(77587),u=t(6),g=t(15368),f=t(98985),y=t(65327),b=t(49101);function v({children:e,title:s,description:t}){(0,c.useRouter)();let r=(0,c.usePathname)(),[v,j]=n().useState(!1),[w,N]=n().useState(!1),k=[{name:"Dashboard",href:"/dashboard",icon:o.Z},{name:"Transactions",href:"/transactions",icon:l.Z},{name:"Bookkeeping",href:"/bookkeeping",icon:d.Z},{name:"Accounts",href:"/accounts",icon:m.Z},{name:"Reports",href:"/reports",icon:x.Z},{name:"Settings",href:"/settings",icon:h.Z}],_=()=>{console.log("Logout disabled for local development")},Z=e=>r===e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[v&&a.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>j(!1)}),(0,a.jsxs)("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:hidden ${v?"translate-x-0":"-translate-x-full"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:a.jsx(b.default,{src:"/logo.png",width:32,height:32,alt:"Manna Logo",className:"rounded"})}),a.jsx("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Manna"})]}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(p.Z,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"mt-5 px-2",children:k.map(e=>(0,a.jsxs)(i.default,{href:e.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${Z(e.href)?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(e.icon,{className:`mr-3 h-5 w-5 ${Z(e.href)?"text-blue-600":"text-gray-400 group-hover:text-gray-500"}`}),e.name]},e.name))})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,a.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[a.jsx("div",{className:"flex items-center h-16 px-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:a.jsx(b.default,{src:"/logo.png",width:32,height:32,alt:"Manna Logo",className:"rounded"})}),a.jsx("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Manna"})]})}),a.jsx("nav",{className:"flex-1 mt-5 px-2 pb-4",children:k.map(e=>(0,a.jsxs)(i.default,{href:e.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors mb-1 ${Z(e.href)?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(e.icon,{className:`mr-3 h-5 w-5 ${Z(e.href)?"text-blue-600":"text-gray-400 group-hover:text-gray-500"}`}),e.name]},e.name))}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:(0,a.jsxs)("button",{onClick:_,className:"group flex items-center w-full px-2 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900",children:[a.jsx(u.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500"}),"Logout"]})})]})}),(0,a.jsxs)("div",{className:"lg:pl-64",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200",children:[a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>j(!0),className:"text-gray-500 hover:text-gray-700 lg:hidden",children:a.jsx(g.Z,{className:"h-6 w-6"})}),a.jsx("div",{className:"ml-4 lg:ml-0",children:s&&a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:s})})]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>N(!w),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:a.jsx(f.Z,{className:"h-5 w-5 text-gray-600"})}),a.jsx(y.Z,{className:"ml-2 h-4 w-4 text-gray-500"})]}),w&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:(0,a.jsxs)("div",{className:"py-1",children:[a.jsx(i.default,{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),a.jsx("button",{onClick:_,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})})]})})]})}),t&&a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-3",children:a.jsx("p",{className:"text-sm text-gray-600",children:t})})]}),a.jsx("main",{className:"flex-1",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e})})})]})]})}},69061:(e,s,t)=>{t.d(s,{gb:()=>c});var a=t(73227),r=t(23677),n=t(18755);let i=r.forwardRef(({className:e,size:s="md",...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("animate-spin rounded-full border-b-2 border-primary-600",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[s],e),...t}));i.displayName="Spinner";let c=r.forwardRef(({size:e="md",text:s,className:t,fullScreen:r=!1},c)=>a.jsx("div",{ref:c,className:(0,n.cn)(r?"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm":"flex items-center justify-center p-4",t),children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(i,{size:e}),s&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:s})]})}));c.displayName="Loading",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("animate-pulse rounded-md bg-neutral-200",e),...s})).displayName="Skeleton"},87674:(e,s,t)=>{t.d(s,{hi:()=>c,iJ:()=>o});var a=t(85345),r=t(37379);let n=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",i=a.Z.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>Promise.reject({message:e.response?.data?.message||e.message||"An error occurred",status:e.response?.status||500,code:e.response?.data?.code,details:e.response?.data?.details}));let c={get:async(e,s)=>(await i.get(e,s)).data,post:async(e,s,t)=>(await i.post(e,s,t)).data,put:async(e,s,t)=>(await i.put(e,s,t)).data,patch:async(e,s,t)=>(await i.patch(e,s,t)).data,delete:async(e,s)=>(await i.delete(e,s)).data,upload:async(e,s,t)=>{let a=new FormData;return a.append("file",s),(await i.post(e,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t&&e.total&&t(Math.round(100*e.loaded/e.total))}})).data.data},download:async(e,s)=>{let t=new Blob([(await i.get(e,{responseType:"blob"})).data]),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=s||"download",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}},o={login:async e=>{let s=await c.post("/api/v1/auth/login",e),t=e.rememberMe?30:1,a=e.rememberMe?90:7;return s.access_token&&r.Z.set("access_token",s.access_token,{expires:t}),s.refresh_token&&r.Z.set("refresh_token",s.refresh_token,{expires:a}),s},logout:async()=>{try{await c.post("/api/v1/auth/logout")}catch(e){console.warn("Logout request failed:",e)}finally{r.Z.remove("access_token"),r.Z.remove("refresh_token")}},register:async e=>c.post("/api/v1/auth/register",e),forgotPassword:async e=>c.post("/api/v1/auth/forgot-password",{email:e}),resetPassword:async(e,s)=>c.post("/api/v1/auth/reset-password",{token:e,password:s}),verifyEmail:async e=>c.post("/api/v1/auth/verify-email",{token:e}),resendVerification:async e=>c.post("/api/v1/auth/resend-verification",{email:e}),getCurrentUser:async()=>c.get("/api/v1/users/me"),refreshToken:async()=>{let e=r.Z.get("refresh_token");if(!e)throw Error("No refresh token available");let s=await c.post("/api/v1/auth/refresh",{refresh_token:e});return s.access_token&&r.Z.set("access_token",s.access_token,{expires:1}),s.refresh_token&&r.Z.set("refresh_token",s.refresh_token,{expires:7}),s}}},1991:(e,s,t)=>{t.d(s,{S:()=>r});var a=t(87674);let r={getAccounts:async()=>{let e=await a.hi.get("/api/v1/accounts");return e&&"object"==typeof e&&"accounts"in e?e.accounts:Array.isArray(e)?e:[]},getAccount:async e=>a.hi.get(`/api/v1/accounts/${e}`),createAccount:async e=>a.hi.post("/api/v1/accounts",e),updateAccount:async(e,s)=>a.hi.put(`/api/v1/accounts/${e}`,s),deleteAccount:async e=>a.hi.delete(`/api/v1/accounts/${e}`),getPlaidLinkToken:async()=>a.hi.post("/api/v1/plaid/create-link-token"),exchangePublicToken:async(e,s)=>a.hi.post("/api/v1/plaid/exchange-public-token",{public_token:e,metadata:s}),syncTransactions:async e=>a.hi.post("/api/v1/plaid/sync-transactions",{account_ids:e}),getInstitution:async e=>a.hi.get(`/api/v1/plaid/institutions/${e}`),getAccountSummary:async(e,s)=>{let t=new URLSearchParams;return s&&Object.entries(s).forEach(([e,s])=>{null!=s&&t.append(e,s.toString())}),a.hi.get(`/api/v1/accounts/${e}/summary?${t.toString()}`)}}}};