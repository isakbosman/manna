'use client'\n\nimport React from 'react'\nimport Link from 'next/link'\nimport { useAuth } from '@/components/providers/auth-provider'\nimport { Button } from '@/components/ui/button'\nimport { \n  User, \n  LogOut, \n  Settings, \n  Bell, \n  Menu \n} from 'lucide-react'\n\ninterface HeaderProps {\n  onMenuToggle?: () => void\n  showMenuButton?: boolean\n}\n\nexport function Header({ onMenuToggle, showMenuButton = true }: HeaderProps) {\n  const { user, logout } = useAuth()\n  const [isUserMenuOpen, setIsUserMenuOpen] = React.useState(false)\n\n  const handleLogout = async () => {\n    try {\n      await logout()\n    } catch (error) {\n      console.error('Logout failed:', error)\n    }\n  }\n\n  return (\n    <header className=\"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"container flex h-14 items-center\">\n        {/* Mobile menu button */}\n        {showMenuButton && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"mr-2 md:hidden\"\n            onClick={onMenuToggle}\n          >\n            <Menu className=\"h-5 w-5\" />\n            <span className=\"sr-only\">Toggle navigation menu</span>\n          </Button>\n        )}\n\n        {/* Logo */}\n        <div className=\"mr-4 flex\">\n          <Link href=\"/dashboard\" className=\"mr-6 flex items-center space-x-2\">\n            <div className=\"h-8 w-8 rounded bg-primary-600 flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">M</span>\n            </div>\n            <span className=\"hidden font-bold sm:inline-block\">\n              Manna Financial\n            </span>\n          </Link>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"hidden md:flex items-center space-x-6 text-sm font-medium\">\n          <Link\n            href=\"/dashboard\"\n            className=\"transition-colors hover:text-primary-600\"\n          >\n            Dashboard\n          </Link>\n          <Link\n            href=\"/transactions\"\n            className=\"transition-colors hover:text-primary-600\"\n          >\n            Transactions\n          </Link>\n          <Link\n            href=\"/accounts\"\n            className=\"transition-colors hover:text-primary-600\"\n          >\n            Accounts\n          </Link>\n          <Link\n            href=\"/reports\"\n            className=\"transition-colors hover:text-primary-600\"\n          >\n            Reports\n          </Link>\n        </nav>\n\n        <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n          <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n            {/* Search could go here */}\n          </div>\n          \n          {/* Right side actions */}\n          <div className=\"flex items-center space-x-2\">\n            {/* Notifications */}\n            <Button variant=\"ghost\" size=\"icon\">\n              <Bell className=\"h-5 w-5\" />\n              <span className=\"sr-only\">Notifications</span>\n            </Button>\n\n            {/* User menu */}\n            <div className=\"relative\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}\n                className=\"relative\"\n              >\n                <User className=\"h-5 w-5\" />\n                <span className=\"sr-only\">User menu</span>\n              </Button>\n\n              {/* User dropdown menu */}\n              {isUserMenuOpen && (\n                <>\n                  <div \n                    className=\"fixed inset-0 z-10\" \n                    onClick={() => setIsUserMenuOpen(false)}\n                  />\n                  <div className=\"absolute right-0 top-full z-20 mt-1 w-48 rounded-md border bg-popover p-1 text-popover-foreground shadow-md\">\n                    <div className=\"px-2 py-1.5 text-sm text-muted-foreground\">\n                      <p className=\"font-medium\">{user?.firstName} {user?.lastName}</p>\n                      <p className=\"text-xs\">{user?.email}</p>\n                    </div>\n                    <div className=\"h-px bg-border my-1\" />\n                    <Link\n                      href=\"/settings\"\n                      className=\"flex items-center px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground rounded-sm\"\n                      onClick={() => setIsUserMenuOpen(false)}\n                    >\n                      <Settings className=\"mr-2 h-4 w-4\" />\n                      Settings\n                    </Link>\n                    <button\n                      onClick={() => {\n                        setIsUserMenuOpen(false)\n                        handleLogout()\n                      }}\n                      className=\"flex w-full items-center px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground rounded-sm\"\n                    >\n                      <LogOut className=\"mr-2 h-4 w-4\" />\n                      Log out\n                    </button>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}"